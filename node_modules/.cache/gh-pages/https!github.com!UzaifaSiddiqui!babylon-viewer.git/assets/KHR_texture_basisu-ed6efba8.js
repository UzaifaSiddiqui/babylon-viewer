import{G as t,A as n}from"./glTFLoader-bae88b97.js";import{a4 as _,a3 as c}from"./index-52cd4afa.js";import"./objectModelMapping-c2b6599e.js";const a="KHR_texture_basisu";class p{constructor(e){this.name=a,this._loader=e,this.enabled=e.isExtensionUsed(a)}dispose(){this._loader=null}_loadTextureAsync(e,s,o){return t.LoadExtensionAsync(e,s,this.name,async(i,l)=>{const u=s.sampler==null?t.DefaultSampler:n.Get(`${e}/sampler`,this._loader.gltf.samplers,s.sampler),m=n.Get(`${i}/source`,this._loader.gltf.images,l.source);return await this._loader._createTextureAsync(e,u,m,d=>{o(d)},s._textureInfo.nonColorData?{useRGBAIfASTCBC7NotAvailableWhenUASTC:!0}:void 0,!s._textureInfo.nonColorData)})}}_(a);c(a,!0,r=>new p(r));export{p as KHR_texture_basisu};
