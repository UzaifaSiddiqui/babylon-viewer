import{aj as d,a4 as p,a3 as f}from"./index-52cd4afa.js";import{G as u}from"./glTFLoader-bae88b97.js";import"./objectModelMapping-c2b6599e.js";const s="MSFT_sRGBFactors";class E{constructor(r){this.name=s,this._loader=r,this.enabled=this._loader.isExtensionUsed(s)}dispose(){this._loader=null}loadMaterialPropertiesAsync(r,t,e){return u.LoadExtraAsync(r,t,this.name,async(n,c)=>{if(c){if(!(e instanceof d))throw new Error(`${n}: Material type not supported`);const a=this._loader.loadMaterialPropertiesAsync(r,t,e),i=e.getScene().getEngine().useExactSrgbConversions;return e.albedoTexture||e.albedoColor.toLinearSpaceToRef(e.albedoColor,i),e.reflectivityTexture||e.reflectivityColor.toLinearSpaceToRef(e.reflectivityColor,i),await a}})}}p(s);f(s,!0,o=>new E(o));export{E as MSFT_sRGBFactors};
