{"version":3,"file":"index.js","sources":["../../../../../../../../tools/viewer/src/viewer.ts","../../../../../node_modules/@lit/reactive-element/css-tag.js","../../../../../node_modules/@lit/reactive-element/reactive-element.js","../../../../../node_modules/lit-html/lit-html.js","../../../../../node_modules/lit-element/lit-element.js","../../../../../node_modules/@lit/reactive-element/decorators/custom-element.js","../../../../../node_modules/@lit/reactive-element/decorators/property.js","../../../../../node_modules/@lit/reactive-element/decorators/state.js","../../../../../node_modules/@lit/reactive-element/decorators/base.js","../../../../../node_modules/@lit/reactive-element/decorators/query.js","../../../../../node_modules/lit-html/directive-helpers.js","../../../../../node_modules/lit-html/directive.js","../../../../../node_modules/lit-html/async-directive.js","../../../../../node_modules/lit-html/directives/ref.js","../../../../../../../../tools/viewer/src/viewerFactory.ts","../../../../../../../../tools/viewer/src/viewerElement.ts","../../../../../../../../tools/viewer/src/viewerAnnotationElement.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/naming-convention */\r\nimport type {\r\n    AbstractEngine,\r\n    AbstractMesh,\r\n    AnimationGroup,\r\n    AssetContainer,\r\n    AutoRotationBehavior,\r\n    BaseTexture,\r\n    Camera,\r\n    CubeTexture,\r\n    Engine,\r\n    HDRCubeTexture,\r\n    HotSpotQuery,\r\n    IblShadowsRenderPipeline,\r\n    IDisposable,\r\n    IMeshDataCache,\r\n    ISceneLoaderProgressEvent,\r\n    LoadAssetContainerOptions,\r\n    Nullable,\r\n    Observer,\r\n    PickingInfo,\r\n    ShadowLight,\r\n    ShaderMaterial,\r\n    ShadowGenerator,\r\n} from \"core/index\";\r\n\r\nimport type { MaterialVariantsController } from \"loaders/glTF/2.0/Extensions/KHR_materials_variants\";\r\n\r\nimport { ArcRotateCamera, ComputeAlpha, ComputeBeta } from \"core/Cameras/arcRotateCamera\";\r\nimport { Constants } from \"core/Engines/constants\";\r\nimport { PointerEventTypes } from \"core/Events/pointerEvents\";\r\nimport { SpotLight } from \"core/Lights/spotLight\";\r\nimport { HemisphericLight } from \"core/Lights/hemisphericLight\";\r\nimport { LoadAssetContainerAsync } from \"core/Loading/sceneLoader\";\r\nimport { BackgroundMaterial } from \"core/Materials/Background/backgroundMaterial\";\r\nimport { ImageProcessingConfiguration } from \"core/Materials/imageProcessingConfiguration\";\r\nimport { PBRMaterial } from \"core/Materials/PBR/pbrMaterial\";\r\nimport { Texture } from \"core/Materials/Textures/texture\";\r\nimport { Color3, Color4 } from \"core/Maths/math.color\";\r\nimport { Clamp } from \"core/Maths/math.scalar.functions\";\r\nimport { Matrix, Vector2, Vector3 } from \"core/Maths/math.vector\";\r\nimport { Viewport } from \"core/Maths/math.viewport\";\r\nimport { GetHotSpotToRef } from \"core/Meshes/abstractMesh.hotSpot\";\r\nimport { CreateBox } from \"core/Meshes/Builders/boxBuilder\";\r\nimport { Mesh } from \"core/Meshes/mesh\";\r\nimport { computeMaxExtents, RemoveUnreferencedVerticesData } from \"core/Meshes/meshUtils\";\r\nimport { BuildTuple } from \"core/Misc/arrayTools\";\r\nimport { AsyncLock } from \"core/Misc/asyncLock\";\r\nimport { deepMerge } from \"core/Misc/deepMerger\";\r\nimport { AbortError } from \"core/Misc/error\";\r\nimport { Logger } from \"core/Misc/logger\";\r\nimport { Observable } from \"core/Misc/observable\";\r\nimport { HardwareScalingOptimization, SceneOptimizer, SceneOptimizerOptions } from \"core/Misc/sceneOptimizer\";\r\nimport { SnapshotRenderingHelper } from \"core/Misc/snapshotRenderingHelper\";\r\nimport { GetExtensionFromUrl } from \"core/Misc/urlTools\";\r\nimport { Scene } from \"core/scene\";\r\nimport { registerBuiltInLoaders } from \"loaders/dynamic\";\r\n\r\nexport type ResetFlag = \"source\" | \"environment\" | \"camera\" | \"animation\" | \"post-processing\" | \"material-variant\" | \"shadow\";\r\n\r\nconst shadowQualityOptions = [\"none\", \"normal\", \"high\"] as const;\r\nexport type ShadowQuality = (typeof shadowQualityOptions)[number];\r\n\r\nconst toneMappingOptions = [\"none\", \"standard\", \"aces\", \"neutral\"] as const;\r\nexport type ToneMapping = (typeof toneMappingOptions)[number];\r\n\r\nconst environmentMode = [\"none\", \"auto\", \"url\"] as const;\r\ntype EnvironmentMode = (typeof environmentMode)[number];\r\n\r\ntype ActivateModelOptions = Partial<{ source: string | File | ArrayBufferView }>;\r\n\r\nexport type LoadModelOptions = LoadAssetContainerOptions;\r\n\r\nexport type CameraOrbit = [alpha: number, beta: number, radius: number];\r\nexport type CameraTarget = [x: number, y: number, z: number];\r\n\r\nexport type CameraAutoOrbit = {\r\n    /**\r\n     * Whether the camera should automatically orbit around the model when idle.\r\n     */\r\n    enabled: boolean;\r\n\r\n    /**\r\n     * The speed at which the camera orbits around the model when idle.\r\n     */\r\n    speed: number;\r\n\r\n    /**\r\n     * The delay in milliseconds before the camera starts orbiting around the model when idle.\r\n     */\r\n    delay: number;\r\n};\r\n\r\nexport type EnvironmentParams = {\r\n    /**\r\n     * The intensity of the environment lighting.\r\n     */\r\n    intensity: number;\r\n\r\n    /**\r\n     * The blur applied to the environment lighting.\r\n     */\r\n    blur: number;\r\n\r\n    /**\r\n     * The rotation of the environment lighting in radians.\r\n     */\r\n    rotation: number;\r\n};\r\n\r\nexport type ShadowParams = {\r\n    /**\r\n     * The quality of shadow being used\r\n     */\r\n    quality: ShadowQuality;\r\n};\r\n\r\nexport type PostProcessing = {\r\n    /**\r\n     * The tone mapping to use for rendering the scene.\r\n     */\r\n    toneMapping: ToneMapping;\r\n\r\n    /**\r\n     * The contrast applied to the scene.\r\n     */\r\n    contrast: number;\r\n\r\n    /**\r\n     * The exposure applied to the scene.\r\n     */\r\n    exposure: number;\r\n};\r\n\r\ntype ShadowState = {\r\n    normal?: {\r\n        generator: ShadowGenerator;\r\n        ground: Mesh;\r\n        light: ShadowLight;\r\n        shouldRender: boolean;\r\n    };\r\n    high?: {\r\n        pipeline: IblShadowsRenderPipeline;\r\n        ground: Mesh;\r\n        groundMaterial: ShaderMaterial;\r\n        renderTimer?: Nullable<ReturnType<typeof setTimeout>>;\r\n        shouldRender: boolean;\r\n        resizeObserver: Observer<Engine>;\r\n    };\r\n};\r\n\r\n/**\r\n * Checks if the given value is a valid tone mapping option.\r\n * @param value The value to check.\r\n * @returns True if the value is a valid tone mapping option, otherwise false.\r\n */\r\nexport function IsToneMapping(value: string): value is ToneMapping {\r\n    return toneMappingOptions.includes(value as ToneMapping);\r\n}\r\n\r\n/**\r\n * Checks if the given value is a valid shadow quality option.\r\n * @param value The value to check.\r\n * @returns True if the value is a valid shadow quality option, otherwise false.\r\n */\r\nexport function IsShadowQuality(value: string): value is ShadowQuality {\r\n    return shadowQualityOptions.includes(value as ShadowQuality);\r\n}\r\n\r\nfunction throwIfAborted(...abortSignals: (Nullable<AbortSignal> | undefined)[]): void {\r\n    for (const signal of abortSignals) {\r\n        signal?.throwIfAborted();\r\n    }\r\n}\r\n\r\nasync function createCubeTexture(url: string, scene: Scene, extension?: string) {\r\n    extension = extension ?? GetExtensionFromUrl(url);\r\n    const instantiateTexture = await (async () => {\r\n        if (extension === \".hdr\") {\r\n            // eslint-disable-next-line @typescript-eslint/naming-convention\r\n            const { HDRCubeTexture } = await import(\"core/Materials/Textures/hdrCubeTexture\");\r\n            return () => new HDRCubeTexture(url, scene, 256, false, true, false, true, undefined, undefined, undefined, true, true);\r\n        } else {\r\n            // eslint-disable-next-line @typescript-eslint/naming-convention\r\n            const { CubeTexture } = await import(\"core/Materials/Textures/cubeTexture\");\r\n            return () => new CubeTexture(url, scene, null, false, null, null, null, undefined, true, extension, true);\r\n        }\r\n    })();\r\n\r\n    const originalUseDelayedTextureLoading = scene.useDelayedTextureLoading;\r\n    try {\r\n        scene.useDelayedTextureLoading = false;\r\n        return instantiateTexture();\r\n    } finally {\r\n        scene.useDelayedTextureLoading = originalUseDelayedTextureLoading;\r\n    }\r\n}\r\n\r\nfunction createSkybox(scene: Scene, camera: Camera, reflectionTexture: BaseTexture, blur: number): Mesh {\r\n    const originalBlockMaterialDirtyMechanism = scene.blockMaterialDirtyMechanism;\r\n    scene.blockMaterialDirtyMechanism = true;\r\n    try {\r\n        const hdrSkybox = CreateBox(\"hdrSkyBox\", { sideOrientation: Mesh.BACKSIDE }, scene);\r\n        const hdrSkyboxMaterial = new BackgroundMaterial(\"skyBox\", scene);\r\n        // Use the default image processing configuration on the skybox (e.g. don't apply tone mapping, contrast, or exposure).\r\n        hdrSkyboxMaterial.imageProcessingConfiguration = new ImageProcessingConfiguration();\r\n        hdrSkyboxMaterial.reflectionTexture = reflectionTexture;\r\n        reflectionTexture.coordinatesMode = Texture.SKYBOX_MODE;\r\n        hdrSkyboxMaterial.reflectionBlur = blur;\r\n        hdrSkybox.material = hdrSkyboxMaterial;\r\n        hdrSkybox.isPickable = false;\r\n        hdrSkybox.infiniteDistance = true;\r\n\r\n        updateSkybox(hdrSkybox, camera);\r\n\r\n        return hdrSkybox;\r\n    } finally {\r\n        scene.blockMaterialDirtyMechanism = originalBlockMaterialDirtyMechanism;\r\n    }\r\n}\r\n\r\nfunction updateSkybox(skybox: Nullable<Mesh>, camera: Camera): void {\r\n    skybox?.scaling.setAll((camera.maxZ - camera.minZ) / 2);\r\n}\r\n\r\nfunction computeModelsMaxExtents(models: readonly Model[]): Array<{ minimum: Vector3; maximum: Vector3 }> {\r\n    return models.flatMap((model) => {\r\n        return computeMaxExtents(model.assetContainer.meshes, model.assetContainer.animationGroups[model.selectedAnimation]);\r\n    });\r\n}\r\n\r\nfunction reduceMeshesExtendsToBoundingInfo(maxExtents: Array<{ minimum: Vector3; maximum: Vector3 }>) {\r\n    if (maxExtents.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    const min = new Vector3(Math.min(...maxExtents.map((e) => e.minimum.x)), Math.min(...maxExtents.map((e) => e.minimum.y)), Math.min(...maxExtents.map((e) => e.minimum.z)));\r\n    const max = new Vector3(Math.max(...maxExtents.map((e) => e.maximum.x)), Math.max(...maxExtents.map((e) => e.maximum.y)), Math.max(...maxExtents.map((e) => e.maximum.z)));\r\n    const size = max.subtract(min);\r\n    const center = min.add(size.scale(0.5));\r\n\r\n    return {\r\n        extents: {\r\n            min: min.asArray(),\r\n            max: max.asArray(),\r\n        },\r\n        size: size.asArray(),\r\n        center: center.asArray(),\r\n    };\r\n}\r\n\r\n/**\r\n * Compute the bounding info for the models by computing their maximum extents, size, and center considering animation, skeleton, and morph targets.\r\n * @param models The models to consider when computing the bounding info\r\n * @returns The computed bounding info for the models or null\r\n */\r\nfunction computeModelsBoundingInfos(models: readonly Model[]): Nullable<ViewerBoundingInfo> {\r\n    const maxExtents = computeModelsMaxExtents(models);\r\n    return reduceMeshesExtendsToBoundingInfo(maxExtents);\r\n}\r\n\r\n// This helper function is used in functions that are naturally void returning, but need to call an async Promise returning function.\r\n// If there is any error (other than AbortError) in the async function, it will be logged.\r\nfunction observePromise(promise: Promise<unknown>): void {\r\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n    (async () => {\r\n        try {\r\n            await promise;\r\n        } catch (error) {\r\n            if (!(error instanceof AbortError)) {\r\n                Logger.Error(error);\r\n            }\r\n        }\r\n    })();\r\n}\r\n\r\n/**\r\n * Generates a HotSpot from a camera by computing its spherical coordinates (alpha, beta, radius) relative to a target point.\r\n *\r\n * The target point is determined using the camera's forward ray:\r\n *   - If the ray intersects with a mesh in the model, the intersection point is used as the target.\r\n *   - If no intersection is found, a fallback target is calculated by projecting the distance\r\n *     between the camera and the model's center along the camera's forward direction.\r\n *\r\n * @param model The reference model used to determine the target point.\r\n * @param camera The camera from which the HotSpot is generated.\r\n * @returns A HotSpot object.\r\n */\r\nexport async function CreateHotSpotFromCamera(model: Model, camera: Camera): Promise<HotSpot> {\r\n    await import(\"core/Culling/ray\");\r\n    const scene = model.assetContainer.scene;\r\n    const ray = camera.getForwardRay(100, camera.getWorldMatrix(), camera.globalPosition); // Set starting point to camera global position\r\n    const camGlobalPos = camera.globalPosition.clone();\r\n\r\n    // Target\r\n    let radius: number = 0.0001; // Just to avoid division by zero\r\n    const targetPoint = Vector3.Zero();\r\n    const pickingInfo = scene.pickWithRay(ray, (mesh) => model.assetContainer.meshes.includes(mesh));\r\n    if (pickingInfo && pickingInfo.hit) {\r\n        targetPoint.copyFrom(pickingInfo.pickedPoint!); // Use intersection point as target\r\n    } else {\r\n        const worldBounds = model.getWorldBounds();\r\n        const centerArray = worldBounds ? worldBounds.center : [0, 0, 0];\r\n        const distancePoint = Vector3.FromArray(centerArray);\r\n        const direction = ray.direction.clone();\r\n        targetPoint.copyFrom(camGlobalPos);\r\n        radius = Vector3.Distance(camGlobalPos, distancePoint);\r\n        direction.scaleAndAddToRef(radius, targetPoint); // Compute fallback target\r\n    }\r\n\r\n    const computationVector = Vector3.Zero();\r\n    camGlobalPos.subtractToRef(targetPoint, computationVector);\r\n\r\n    // Radius\r\n    if (pickingInfo && pickingInfo.hit) {\r\n        radius = computationVector.length();\r\n    }\r\n\r\n    // Alpha and Beta\r\n    const alpha = ComputeAlpha(computationVector);\r\n    const beta = ComputeBeta(computationVector.y, radius);\r\n\r\n    const targetArray = targetPoint.asArray();\r\n    return { type: \"world\", position: targetArray, normal: targetArray, cameraOrbit: [alpha, beta, radius] };\r\n}\r\n\r\nexport type ViewerDetails = {\r\n    /**\r\n     * Provides access to the Scene managed by the Viewer.\r\n     */\r\n    scene: Scene;\r\n\r\n    /**\r\n     * Provides access to the Camera managed by the Viewer.\r\n     */\r\n    camera: ArcRotateCamera;\r\n\r\n    /**\r\n     * Provides access to the currently loaded model.\r\n     */\r\n    model: Nullable<Model>;\r\n\r\n    /**\r\n     * Suspends the render loop.\r\n     * @returns A token that should be disposed when the request for suspending rendering is no longer needed.\r\n     */\r\n    suspendRendering(): IDisposable;\r\n\r\n    /**\r\n     * Marks the scene as mutated, which will trigger a render on the next frame (unless rendering is suspended).\r\n     */\r\n    markSceneMutated(): void;\r\n\r\n    /**\r\n     * Picks the object at the given screen coordinates.\r\n     * @remarks This function ensures skeletal and morph target animations are up to date before picking, and typically should not be called at high frequency (e.g. every frame, on pointer move, etc.).\r\n     * @param screenX The x coordinate in screen space.\r\n     * @param screenY The y coordinate in screen space.\r\n     * @returns A PickingInfo if an object was picked, otherwise null.\r\n     */\r\n    pick(screenX: number, screenY: number): Promise<Nullable<PickingInfo>>;\r\n};\r\n\r\n/**\r\n * The options for the Viewer.\r\n */\r\nexport type ViewerOptions = Partial<{\r\n    /**\r\n     * Called once when the viewer is initialized and provides viewer details that can be used for advanced customization.\r\n     */\r\n    onInitialized: (details: Readonly<ViewerDetails>) => void;\r\n\r\n    /**\r\n     * The default clear color of the scene.\r\n     */\r\n    clearColor: [r: number, g: number, b: number, a?: number];\r\n\r\n    /**\r\n     * When enabled, rendering will be suspended when no scene state driven by the Viewer has changed.\r\n     * This can reduce resource CPU/GPU pressure when the scene is static.\r\n     * Enabled by default.\r\n     */\r\n    autoSuspendRendering: boolean;\r\n\r\n    /**\r\n     * The default source model to load into the viewer.\r\n     */\r\n    source: string;\r\n\r\n    /**\r\n     * The default environment to load into the viewer for lighting (IBL).\r\n     */\r\n    environmentLighting: string;\r\n\r\n    /**\r\n     * The default environment to load into the viewer for the skybox.\r\n     */\r\n    environmentSkybox: string;\r\n\r\n    /**\r\n     * The default environment configuration.\r\n     */\r\n    environmentConfig: Partial<EnvironmentParams>;\r\n\r\n    /**\r\n     * The default camera orbit.\r\n     * @remarks The default camera orbit is restored when a new model is loaded.\r\n     */\r\n    cameraOrbit: Partial<CameraOrbit>;\r\n\r\n    /**\r\n     * The default camera target.\r\n     * @remarks The default camera target is restored when a new model is loaded.\r\n     */\r\n    cameraTarget: Partial<CameraTarget>;\r\n\r\n    /**\r\n     * Automatically rotates a 3D model or scene without requiring user interaction.\r\n     * @remarks The default camera auto orbit is restored when a new model is loaded.\r\n     */\r\n    cameraAutoOrbit: Partial<CameraAutoOrbit>;\r\n\r\n    /**\r\n     * Whether to play the default animation immediately after loading.\r\n     * @remarks The default animation auto play is restored when a new model is loaded.\r\n     */\r\n    animationAutoPlay: boolean;\r\n\r\n    /**\r\n     * The default speed of the animation.\r\n     * @remarks The default animation speed is restored when a new model is loaded.\r\n     */\r\n    animationSpeed: number;\r\n\r\n    /**\r\n     * The default selected animation.\r\n     * @remarks The default selected animation is restored when a new model is loaded.\r\n     */\r\n    selectedAnimation: number;\r\n\r\n    /**\r\n     * The default post processing configuration.\r\n     */\r\n    postProcessing: Partial<PostProcessing>;\r\n\r\n    /**\r\n     * Shadow configuration.\r\n     */\r\n    shadowConfig: Partial<ShadowParams>;\r\n\r\n    /**\r\n     * The default selected material variant.\r\n     * @remarks The default material variant is restored when a new model is loaded.\r\n     */\r\n    selectedMaterialVariant: string;\r\n\r\n    /**\r\n     * The default hotspots.\r\n     */\r\n    hotSpots: Record<string, HotSpot>;\r\n\r\n    /**\r\n     * Boolean indicating if the scene must use right-handed coordinates system.\r\n     */\r\n    useRightHandedSystem: boolean;\r\n}>;\r\n\r\n/**\r\n * The default options for the Viewer.\r\n */\r\nexport const DefaultViewerOptions = {\r\n    clearColor: [0, 0, 0, 0],\r\n    autoSuspendRendering: true,\r\n    environmentConfig: {\r\n        intensity: 1,\r\n        blur: 0.3,\r\n        rotation: 0,\r\n    },\r\n    environmentLighting: \"auto\",\r\n    environmentSkybox: \"none\",\r\n    cameraAutoOrbit: {\r\n        enabled: false,\r\n        delay: 2000,\r\n        speed: 0.05,\r\n    },\r\n    animationAutoPlay: false,\r\n    animationSpeed: 1,\r\n    shadowConfig: {\r\n        quality: \"none\",\r\n    },\r\n    postProcessing: {\r\n        toneMapping: \"neutral\",\r\n        contrast: 1,\r\n        exposure: 1,\r\n    },\r\n    useRightHandedSystem: false,\r\n} as const satisfies ViewerOptions;\r\n\r\nexport type EnvironmentOptions = Partial<\r\n    Readonly<{\r\n        /**\r\n         * Whether to use the environment for lighting (e.g. IBL).\r\n         */\r\n        lighting: boolean;\r\n\r\n        /**\r\n         * Whether to use the environment for the skybox.\r\n         */\r\n        skybox: boolean;\r\n    }>\r\n>;\r\n\r\nexport type LoadEnvironmentOptions = EnvironmentOptions &\r\n    Partial<\r\n        Readonly<{\r\n            /**\r\n             * Specifies the extension of the environment texture to load.\r\n             * This must be specified when the extension cannot be determined from the url.\r\n             */\r\n            extension: string;\r\n        }>\r\n    >;\r\n\r\nconst defaultLoadEnvironmentOptions = {\r\n    lighting: true,\r\n    skybox: true,\r\n} as const satisfies EnvironmentOptions;\r\n\r\nexport type ViewerHotSpotQuery =\r\n    | ({\r\n          /**\r\n           * The type of the hot spot.\r\n           */\r\n          type: \"surface\";\r\n\r\n          /**\r\n           * The index of the mesh within the loaded model.\r\n           */\r\n          meshIndex: number;\r\n      } & HotSpotQuery)\r\n    | {\r\n          /**\r\n           * The type of the hot spot.\r\n           */\r\n          type: \"world\";\r\n\r\n          /**\r\n           * The fixed world space position of the hot spot.\r\n           */\r\n          position: [x: number, y: number, z: number];\r\n\r\n          /**\r\n           * The fixed world space normal of the hot spot.\r\n           */\r\n          normal: [x: number, y: number, z: number];\r\n      };\r\n\r\nexport type HotSpot = ViewerHotSpotQuery & {\r\n    /**\r\n     * An optional camera pose to associate with the hotspot.\r\n     */\r\n    cameraOrbit?: CameraOrbit;\r\n};\r\n\r\n/**\r\n * Provides the result of a hot spot query.\r\n */\r\nexport class ViewerHotSpotResult {\r\n    /**\r\n     * 2D canvas position in pixels\r\n     */\r\n    public readonly screenPosition: [x: number, y: number] = [NaN, NaN];\r\n\r\n    /**\r\n     * 3D world coordinates\r\n     */\r\n    public readonly worldPosition: [x: number, y: number, z: number] = [NaN, NaN, NaN];\r\n\r\n    /**\r\n     * visibility range is [-1..1]. A value of 0 means camera eye is on the plane.\r\n     */\r\n    public visibility: number = NaN;\r\n}\r\n\r\nexport type ViewerBoundingInfo = {\r\n    /**\r\n     * The minimum and maximum extents of the model.\r\n     */\r\n    extents: Readonly<{\r\n        /**\r\n         * The minimum extent of the model.\r\n         */\r\n        readonly min: readonly [x: number, y: number, z: number];\r\n\r\n        /**\r\n         * The maximum extent of the model.\r\n         */\r\n        readonly max: readonly [x: number, y: number, z: number];\r\n    }>;\r\n\r\n    /**\r\n     * The size of the model.\r\n     */\r\n    readonly size: readonly [x: number, y: number, z: number];\r\n\r\n    /**\r\n     * The center of the model.\r\n     */\r\n    readonly center: readonly [x: number, y: number, z: number];\r\n};\r\n\r\nexport type Model = IDisposable & {\r\n    /**\r\n     * The asset container representing the model.\r\n     */\r\n    readonly assetContainer: AssetContainer;\r\n\r\n    /**\r\n     * The material variants controller for the model.\r\n     */\r\n    readonly materialVariantsController: Nullable<MaterialVariantsController>;\r\n\r\n    /**\r\n     * The current animation.\r\n     */\r\n    selectedAnimation: number;\r\n\r\n    /**\r\n     * Returns the world position and visibility of a hot spot.\r\n     */\r\n    getHotSpotToRef(query: Readonly<ViewerHotSpotQuery>, result: ViewerHotSpotResult): boolean;\r\n\r\n    /**\r\n     * Compute and return the world bounds of the model.\r\n     * The minimum and maximum extents, the size and the center.\r\n     * @param animationIndex The index of the animation group to use for computation. If omitted, the current selected animation is used.\r\n     * @returns The computed bounding info for the model or null if no meshes are present in the asset container.\r\n     */\r\n    getWorldBounds(animationIndex?: number): Nullable<ViewerBoundingInfo>;\r\n\r\n    /**\r\n     * Resets the computed world bounds of the model.\r\n     * Should be called after the model undergoes transformations.\r\n     */\r\n    resetWorldBounds(): void;\r\n\r\n    /**\r\n     * Makes the model the current active model in the viewer.\r\n     * @param options Options for activating the model.\r\n     */\r\n    makeActive(options?: ActivateModelOptions): void;\r\n};\r\n\r\ntype ModelInternal = Model & {\r\n    _animationPlaying(): boolean;\r\n    _shouldRender(): boolean;\r\n};\r\n\r\n/**\r\n * @experimental\r\n * Provides an experience for viewing a single 3D model.\r\n * @remarks\r\n * The Viewer is not tied to a specific UI framework and can be used with Babylon.js in a browser or with Babylon Native.\r\n */\r\nexport class Viewer implements IDisposable {\r\n    static {\r\n        registerBuiltInLoaders();\r\n    }\r\n\r\n    /**\r\n     * When enabled, the Viewer will emit additional diagnostic logs to the console.\r\n     */\r\n    public showDebugLogs = false;\r\n\r\n    /**\r\n     * Fired when the environment has changed.\r\n     */\r\n    public readonly onEnvironmentChanged = new Observable<void>();\r\n\r\n    /**\r\n     * Fired when the environment configuration has changed.\r\n     */\r\n    public readonly onEnvironmentConfigurationChanged = new Observable<void>();\r\n\r\n    /**\r\n     * Fired when an error occurs while loading the environment.\r\n     */\r\n    public readonly onEnvironmentError = new Observable<unknown>();\r\n\r\n    /**\r\n     * Fired when the shadows configuration changes.\r\n     */\r\n    public readonly onShadowsConfigurationChanged = new Observable<void>();\r\n\r\n    /**\r\n     * Fired when the post processing state changes.\r\n     */\r\n    public readonly onPostProcessingChanged = new Observable<void>();\r\n\r\n    /**\r\n     * Fired when a model is loaded into the viewer (or unloaded from the viewer).\r\n     * @remarks\r\n     * The event argument is the source that was loaded, or null if no model is loaded.\r\n     */\r\n    public readonly onModelChanged = new Observable<Nullable<string | File | ArrayBufferView>>();\r\n\r\n    /**\r\n     * Fired when an error occurs while loading a model.\r\n     */\r\n    public readonly onModelError = new Observable<unknown>();\r\n\r\n    /**\r\n     * Fired when progress changes on loading activity.\r\n     */\r\n    public readonly onLoadingProgressChanged = new Observable<void>();\r\n\r\n    /**\r\n     * Fired when the camera auto orbit state changes.\r\n     */\r\n    public readonly onCameraAutoOrbitChanged = new Observable<void>();\r\n\r\n    /**\r\n     * Fired when the selected animation changes.\r\n     */\r\n    public readonly onSelectedAnimationChanged = new Observable<void>();\r\n\r\n    /**\r\n     * Fired when the animation speed changes.\r\n     */\r\n    public readonly onAnimationSpeedChanged = new Observable<void>();\r\n\r\n    /**\r\n     * Fired when the selected animation is playing or paused.\r\n     */\r\n    public readonly onIsAnimationPlayingChanged = new Observable<void>();\r\n\r\n    /**\r\n     * Fired when the current point on the selected animation timeline changes.\r\n     */\r\n    public readonly onAnimationProgressChanged = new Observable<void>();\r\n\r\n    /**\r\n     * Fired when the selected material variant changes.\r\n     */\r\n    public readonly onSelectedMaterialVariantChanged = new Observable<void>();\r\n\r\n    /**\r\n     * Fired when the hot spots object changes to a complete new object instance.\r\n     */\r\n    public readonly onHotSpotsChanged = new Observable<void>();\r\n\r\n    /**\r\n     * Fired when the cameras as hot spots property changes.\r\n     */\r\n    public readonly onCamerasAsHotSpotsChanged = new Observable<void>();\r\n\r\n    protected readonly _scene: Scene;\r\n    protected readonly _camera: ArcRotateCamera;\r\n    protected readonly _snapshotHelper: SnapshotRenderingHelper;\r\n\r\n    private readonly _defaultHardwareScalingLevel: number;\r\n    private _lastHardwareScalingLevel: number;\r\n    private _renderedLastFrame: Nullable<boolean> = null;\r\n    private _sceneOptimizer: Nullable<SceneOptimizer> = null;\r\n\r\n    private readonly _tempVectors = BuildTuple(4, Vector3.Zero);\r\n    private readonly _meshDataCache = new Map<AbstractMesh, IMeshDataCache>();\r\n    private readonly _autoRotationBehavior: AutoRotationBehavior;\r\n    private readonly _imageProcessingConfigurationObserver: Observer<ImageProcessingConfiguration>;\r\n    private readonly _beforeRenderObserver: Observer<Scene>;\r\n    private _renderLoopController: Nullable<IDisposable> = null;\r\n    private _loadedModelsBacking: ModelInternal[] = [];\r\n    private _activeModelBacking: Nullable<ModelInternal> = null;\r\n    private _environmentSkyboxMode: EnvironmentMode = \"none\";\r\n    private _environmentLightingMode: EnvironmentMode = \"none\";\r\n    private _skybox: Nullable<Mesh> = null;\r\n    private _skyboxBlur = this._options?.environmentConfig?.blur ?? DefaultViewerOptions.environmentConfig.blur;\r\n    private _skyboxTexture: Nullable<CubeTexture | HDRCubeTexture> = null;\r\n    private _reflectionTexture: Nullable<CubeTexture | HDRCubeTexture> = null;\r\n    private _reflectionsIntensity = this._options?.environmentConfig?.intensity ?? DefaultViewerOptions.environmentConfig.intensity;\r\n    private _reflectionsRotation = this._options?.environmentConfig?.rotation ?? DefaultViewerOptions.environmentConfig.rotation;\r\n    private _light: Nullable<HemisphericLight> = null;\r\n    private _toneMappingEnabled: boolean;\r\n    private _toneMappingType: number;\r\n    private _contrast: number;\r\n    private _exposure: number;\r\n\r\n    private readonly _autoSuspendRendering = this._options?.autoSuspendRendering ?? DefaultViewerOptions.autoSuspendRendering;\r\n    private _sceneMutated = false;\r\n    private _suspendRenderCount = 0;\r\n    private _isDisposed = false;\r\n\r\n    private readonly _loadModelLock = new AsyncLock();\r\n    private _loadModelAbortController: Nullable<AbortController> = null;\r\n\r\n    private readonly _loadEnvironmentLock = new AsyncLock();\r\n    private _loadEnvironmentAbortController: Nullable<AbortController> = null;\r\n\r\n    private _camerasAsHotSpotsAbortController: Nullable<AbortController> = null;\r\n\r\n    private readonly _updateShadowsLock = new AsyncLock();\r\n    private _shadowsAbortController: Nullable<AbortController> = null;\r\n\r\n    private readonly _loadOperations = new Set<Readonly<{ progress: Nullable<number> }>>();\r\n\r\n    private _activeAnimationObservers: Observer<AnimationGroup>[] = [];\r\n    private _animationSpeed = this._options?.animationSpeed ?? DefaultViewerOptions.animationSpeed;\r\n\r\n    private _camerasAsHotSpots = false;\r\n    private _hotSpots: Record<string, HotSpot> = this._options?.hotSpots ?? {};\r\n\r\n    private _shadowQuality: ShadowQuality = this._options?.shadowConfig?.quality ?? DefaultViewerOptions.shadowConfig.quality;\r\n    private readonly _shadowState: ShadowState = {};\r\n\r\n    public constructor(\r\n        private readonly _engine: AbstractEngine,\r\n        private readonly _options?: Readonly<ViewerOptions>\r\n    ) {\r\n        this._defaultHardwareScalingLevel = this._lastHardwareScalingLevel = this._engine.getHardwareScalingLevel();\r\n        {\r\n            const scene = new Scene(this._engine);\r\n            scene.useRightHandedSystem = this._options?.useRightHandedSystem ?? DefaultViewerOptions.useRightHandedSystem;\r\n\r\n            // Deduce tone mapping, contrast, and exposure from the scene (so the viewer stays in sync if anything mutates these values directly on the scene).\r\n            this._toneMappingEnabled = scene.imageProcessingConfiguration.toneMappingEnabled;\r\n            this._toneMappingType = scene.imageProcessingConfiguration.toneMappingType;\r\n            this._contrast = scene.imageProcessingConfiguration.contrast;\r\n            this._exposure = scene.imageProcessingConfiguration.exposure;\r\n\r\n            this._imageProcessingConfigurationObserver = scene.imageProcessingConfiguration.onUpdateParameters.add(() => {\r\n                let hasChanged = false;\r\n\r\n                if (this._toneMappingEnabled !== scene.imageProcessingConfiguration.toneMappingEnabled) {\r\n                    this._toneMappingEnabled = scene.imageProcessingConfiguration.toneMappingEnabled;\r\n                    hasChanged = true;\r\n                }\r\n\r\n                if (this._toneMappingType !== scene.imageProcessingConfiguration.toneMappingType) {\r\n                    this._toneMappingType = scene.imageProcessingConfiguration.toneMappingType;\r\n                    hasChanged = true;\r\n                }\r\n\r\n                if (this._contrast !== scene.imageProcessingConfiguration.contrast) {\r\n                    this._contrast = scene.imageProcessingConfiguration.contrast;\r\n                    hasChanged = true;\r\n                }\r\n\r\n                if (this._exposure !== scene.imageProcessingConfiguration.exposure) {\r\n                    this._exposure = scene.imageProcessingConfiguration.exposure;\r\n                    hasChanged = true;\r\n                }\r\n\r\n                if (hasChanged) {\r\n                    this.onPostProcessingChanged.notifyObservers();\r\n                }\r\n            });\r\n\r\n            const camera = new ArcRotateCamera(\"Viewer Default Camera\", 0, 0, 1, Vector3.Zero(), scene);\r\n            camera.useInputToRestoreState = false;\r\n            camera.useAutoRotationBehavior = true;\r\n            camera.onViewMatrixChangedObservable.add(() => {\r\n                this._markSceneMutated();\r\n            });\r\n\r\n            scene.onClearColorChangedObservable.add(() => {\r\n                this._markSceneMutated();\r\n            });\r\n\r\n            scene.onPointerObservable.add(async (pointerInfo) => {\r\n                const pickingInfo = await this._pick(pointerInfo.event.offsetX, pointerInfo.event.offsetY);\r\n                if (pickingInfo?.pickedPoint) {\r\n                    const distance = pickingInfo.pickedPoint.subtract(camera.position).dot(camera.getForwardRay().direction);\r\n                    // Immediately reset the target and the radius based on the distance to the picked point.\r\n                    // This eliminates unnecessary camera movement on the local z-axis when interpolating.\r\n                    camera.target = camera.position.add(camera.getForwardRay().direction.scale(distance));\r\n                    camera.radius = distance;\r\n                    camera.interpolateTo(undefined, undefined, undefined, pickingInfo.pickedPoint);\r\n                } else {\r\n                    this.resetCamera(true);\r\n                }\r\n            }, PointerEventTypes.POINTERDOUBLETAP);\r\n\r\n            scene.onNewCameraAddedObservable.add((camera) => {\r\n                if (this.camerasAsHotSpots) {\r\n                    observePromise(this._addCameraHotSpot(camera, this._camerasAsHotSpotsAbortController?.signal));\r\n                }\r\n            });\r\n\r\n            scene.onCameraRemovedObservable.add((camera) => {\r\n                this._removeCameraHotSpot(camera);\r\n            });\r\n\r\n            this._scene = scene;\r\n            this._camera = camera;\r\n        }\r\n\r\n        this._scene.skipFrustumClipping = true;\r\n        this._scene.skipPointerDownPicking = true;\r\n        this._scene.skipPointerUpPicking = true;\r\n        this._scene.skipPointerMovePicking = true;\r\n        this._snapshotHelper = new SnapshotRenderingHelper(this._scene, { morphTargetsNumMaxInfluences: 30 });\r\n        // this._snapshotHelper.showDebugLogs = true;\r\n        this._beforeRenderObserver = this._scene.onBeforeRenderObservable.add(() => {\r\n            this._snapshotHelper.updateMesh(this._scene.meshes);\r\n        });\r\n        this._camera.attachControl();\r\n        this._autoRotationBehavior = this._camera.getBehaviorByName(\"AutoRotation\") as AutoRotationBehavior;\r\n        this._reset(false, \"camera\");\r\n\r\n        // Load a default light, but ignore errors as the user might be immediately loading their own environment.\r\n        observePromise(this.resetEnvironment());\r\n\r\n        this._beginRendering();\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n        const viewer = this;\r\n        this._options?.onInitialized?.({\r\n            scene: viewer._scene,\r\n            camera: viewer._camera,\r\n            get model() {\r\n                return viewer._activeModel ?? null;\r\n            },\r\n            suspendRendering: () => this._suspendRendering(),\r\n            markSceneMutated: () => this._markSceneMutated(),\r\n            pick: async (screenX: number, screenY: number) => await this._pick(screenX, screenY),\r\n        });\r\n\r\n        this._reset(false, \"source\", \"environment\", \"post-processing\");\r\n    }\r\n\r\n    /**\r\n     * The camera auto orbit configuration.\r\n     */\r\n    public get cameraAutoOrbit(): Readonly<CameraAutoOrbit> {\r\n        return {\r\n            enabled: this._camera.behaviors.includes(this._autoRotationBehavior),\r\n            speed: this._autoRotationBehavior.idleRotationSpeed,\r\n            delay: this._autoRotationBehavior.idleRotationWaitTime,\r\n        };\r\n    }\r\n\r\n    public set cameraAutoOrbit(value: Partial<Readonly<CameraAutoOrbit>>) {\r\n        if (value.enabled !== undefined && value.enabled !== this.cameraAutoOrbit.enabled) {\r\n            if (value.enabled) {\r\n                this._camera.addBehavior(this._autoRotationBehavior);\r\n            } else {\r\n                this._camera.removeBehavior(this._autoRotationBehavior);\r\n            }\r\n        }\r\n\r\n        if (value.delay !== undefined) {\r\n            this._autoRotationBehavior.idleRotationWaitTime = value.delay;\r\n        }\r\n\r\n        if (value.speed !== undefined) {\r\n            this._autoRotationBehavior.idleRotationSpeed = value.speed;\r\n        }\r\n\r\n        this.onCameraAutoOrbitChanged.notifyObservers();\r\n    }\r\n\r\n    /**\r\n     * Get the current environment configuration.\r\n     */\r\n    public get environmentConfig(): Readonly<EnvironmentParams> {\r\n        return {\r\n            intensity: this._reflectionsIntensity,\r\n            blur: this._skyboxBlur,\r\n            rotation: this._reflectionsRotation,\r\n        };\r\n    }\r\n\r\n    public set environmentConfig(value: Partial<Readonly<EnvironmentParams>>) {\r\n        if (value.blur !== undefined) {\r\n            this._changeSkyboxBlur(value.blur);\r\n        }\r\n        if (value.intensity !== undefined) {\r\n            this._changeEnvironmentIntensity(value.intensity);\r\n            this._changeShadowLightIntensity();\r\n        }\r\n        if (value.rotation !== undefined) {\r\n            this._changeEnvironmentRotation(value.rotation);\r\n            this._rotateShadowLightWithEnvironment();\r\n        }\r\n        this.onEnvironmentConfigurationChanged.notifyObservers();\r\n    }\r\n\r\n    /**\r\n     * Get the current shadow configuration.\r\n     */\r\n    public get shadowConfig(): Readonly<ShadowParams> {\r\n        return {\r\n            quality: this._shadowQuality,\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Update the shadow configuration.\r\n     * @param value The new shadow configuration.\r\n     */\r\n    public async updateShadows(value: Partial<Readonly<ShadowParams>>): Promise<void> {\r\n        if (value.quality && this._shadowQuality !== value.quality) {\r\n            this._shadowQuality = value.quality;\r\n\r\n            await this._updateShadows();\r\n            this.onShadowsConfigurationChanged.notifyObservers();\r\n        }\r\n    }\r\n\r\n    private _changeSkyboxBlur(value: number) {\r\n        if (value !== this._skyboxBlur) {\r\n            this._skyboxBlur = value;\r\n            if (this._skybox) {\r\n                const material = this._skybox.material;\r\n                if (material instanceof BackgroundMaterial) {\r\n                    this._snapshotHelper.disableSnapshotRendering();\r\n                    material.reflectionBlur = this._skyboxBlur;\r\n                    this._snapshotHelper.enableSnapshotRendering();\r\n                    this._markSceneMutated();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Change the environment rotation.\r\n     * @param value the rotation in radians\r\n     */\r\n    private _changeEnvironmentRotation(value: number) {\r\n        if (value !== this._reflectionsRotation) {\r\n            this._reflectionsRotation = value;\r\n\r\n            this._snapshotHelper.disableSnapshotRendering();\r\n            if (this._skyboxTexture) {\r\n                this._skyboxTexture.rotationY = this._reflectionsRotation;\r\n            }\r\n            if (this._reflectionTexture) {\r\n                this._reflectionTexture.rotationY = this._reflectionsRotation;\r\n            }\r\n            this._snapshotHelper.enableSnapshotRendering();\r\n            this._markSceneMutated();\r\n        }\r\n    }\r\n\r\n    private _changeEnvironmentIntensity(value: number) {\r\n        if (value !== this._reflectionsIntensity) {\r\n            this._reflectionsIntensity = value;\r\n\r\n            this._snapshotHelper.disableSnapshotRendering();\r\n            if (this._skyboxTexture) {\r\n                this._skyboxTexture.level = this._reflectionsIntensity;\r\n            }\r\n            if (this._reflectionTexture) {\r\n                this._reflectionTexture.level = this._reflectionsIntensity;\r\n            }\r\n            this._snapshotHelper.enableSnapshotRendering();\r\n            this._markSceneMutated();\r\n        }\r\n    }\r\n\r\n    private _updateAutoClear() {\r\n        // NOTE: Not clearing (even when every pixel is rendered with an opaque color) results in rendering\r\n        //       artifacts in Chromium browsers on Intel-based Macs (see https://issues.chromium.org/issues/396612322).\r\n        //       The performance impact of clearing when not necessary is very small, so for now just always auto clear.\r\n        //this._scene.autoClear = !this._skybox || !this._skybox.isEnabled() || !this._skyboxVisible;\r\n        this._scene.autoClear = true;\r\n        this._markSceneMutated();\r\n    }\r\n\r\n    /**\r\n     * The post processing configuration.\r\n     */\r\n    public get postProcessing(): PostProcessing {\r\n        let toneMapping: ToneMapping = \"none\";\r\n        if (this._toneMappingEnabled) {\r\n            switch (this._toneMappingType) {\r\n                case ImageProcessingConfiguration.TONEMAPPING_STANDARD:\r\n                    toneMapping = \"standard\";\r\n                    break;\r\n                case ImageProcessingConfiguration.TONEMAPPING_ACES:\r\n                    toneMapping = \"aces\";\r\n                    break;\r\n                case ImageProcessingConfiguration.TONEMAPPING_KHR_PBR_NEUTRAL:\r\n                    toneMapping = \"neutral\";\r\n                    break;\r\n            }\r\n        }\r\n\r\n        return {\r\n            toneMapping,\r\n            contrast: this._contrast,\r\n            exposure: this._exposure,\r\n        };\r\n    }\r\n\r\n    public set postProcessing(value: Partial<Readonly<PostProcessing>>) {\r\n        this._snapshotHelper.disableSnapshotRendering();\r\n\r\n        if (value.toneMapping !== undefined) {\r\n            if (value.toneMapping === \"none\") {\r\n                this._scene.imageProcessingConfiguration.toneMappingEnabled = false;\r\n            } else {\r\n                switch (value.toneMapping) {\r\n                    case \"standard\":\r\n                        this._scene.imageProcessingConfiguration.toneMappingType = ImageProcessingConfiguration.TONEMAPPING_STANDARD;\r\n                        break;\r\n                    case \"aces\":\r\n                        this._scene.imageProcessingConfiguration.toneMappingType = ImageProcessingConfiguration.TONEMAPPING_ACES;\r\n                        break;\r\n                    case \"neutral\":\r\n                        this._scene.imageProcessingConfiguration.toneMappingType = ImageProcessingConfiguration.TONEMAPPING_KHR_PBR_NEUTRAL;\r\n                        break;\r\n                }\r\n                this._scene.imageProcessingConfiguration.toneMappingEnabled = true;\r\n            }\r\n        }\r\n\r\n        if (value.contrast !== undefined) {\r\n            this._scene.imageProcessingConfiguration.contrast = value.contrast;\r\n        }\r\n\r\n        if (value.exposure !== undefined) {\r\n            this._scene.imageProcessingConfiguration.exposure = value.exposure;\r\n        }\r\n\r\n        this._scene.imageProcessingConfiguration.isEnabled = this._toneMappingEnabled || this._contrast !== 1 || this._exposure !== 1;\r\n\r\n        this._snapshotHelper.enableSnapshotRendering();\r\n        this._markSceneMutated();\r\n    }\r\n\r\n    /**\r\n     * Gets information about loading activity.\r\n     * @remarks\r\n     * false indicates no loading activity.\r\n     * true indicates loading activity with no progress information.\r\n     * A number between 0 and 1 indicates loading activity with progress information.\r\n     */\r\n    public get loadingProgress(): boolean | number {\r\n        if (this._loadOperations.size > 0) {\r\n            let totalProgress = 0;\r\n            for (const operation of this._loadOperations) {\r\n                if (operation.progress == null) {\r\n                    return true;\r\n                }\r\n                totalProgress += operation.progress;\r\n            }\r\n\r\n            return totalProgress / this._loadOperations.size;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    protected get _loadedModels(): readonly Model[] {\r\n        return this._loadedModelsBacking;\r\n    }\r\n\r\n    protected get _activeModel(): Nullable<Model> {\r\n        return this._activeModelBacking;\r\n    }\r\n\r\n    private _setActiveModel(...args: [model: null] | [model: ModelInternal, options?: ActivateModelOptions]) {\r\n        const [model, options] = args;\r\n        if (model !== this._activeModelBacking) {\r\n            this._activeModelBacking = model;\r\n            this._updateLight();\r\n            observePromise(this._updateShadows());\r\n            this._applyAnimationSpeed();\r\n            this._selectAnimation(0, false);\r\n            this.onSelectedMaterialVariantChanged.notifyObservers();\r\n            this._reframeCamera(true, model ? [model] : undefined);\r\n            this.onModelChanged.notifyObservers(options?.source ?? null);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * The list of animation names for the currently loaded model.\r\n     */\r\n    public get animations(): readonly string[] {\r\n        return this._activeModel?.assetContainer.animationGroups.map((group) => group.name) ?? [];\r\n    }\r\n\r\n    /**\r\n     * The currently selected animation index.\r\n     */\r\n    public get selectedAnimation(): number {\r\n        return this._activeModel?.selectedAnimation ?? -1;\r\n    }\r\n\r\n    public set selectedAnimation(value: number) {\r\n        this._selectAnimation(value, this._loadOperations.size === 0);\r\n    }\r\n\r\n    protected _selectAnimation(index: number, interpolateCamera = true) {\r\n        index = Math.round(Clamp(index, -1, this.animations.length - 1));\r\n        if (this._activeModel && index !== this._activeModel.selectedAnimation) {\r\n            this._activeAnimationObservers.forEach((observer) => observer.remove());\r\n            this._activeAnimationObservers = [];\r\n\r\n            this._activeModel.selectedAnimation = index;\r\n\r\n            if (this._activeAnimation) {\r\n                this._activeAnimationObservers = [\r\n                    this._activeAnimation.onAnimationGroupPlayObservable.add(() => {\r\n                        this.onIsAnimationPlayingChanged.notifyObservers();\r\n                    }),\r\n                    this._activeAnimation.onAnimationGroupPauseObservable.add(() => {\r\n                        this.onIsAnimationPlayingChanged.notifyObservers();\r\n                    }),\r\n                    this._activeAnimation.onAnimationGroupEndObservable.add(() => {\r\n                        this.onIsAnimationPlayingChanged.notifyObservers();\r\n                        this.onAnimationProgressChanged.notifyObservers();\r\n                    }),\r\n                ];\r\n\r\n                this._reframeCamera(interpolateCamera);\r\n            }\r\n\r\n            this.onSelectedAnimationChanged.notifyObservers();\r\n            this.onAnimationProgressChanged.notifyObservers();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * True if an animation is currently playing.\r\n     */\r\n    public get isAnimationPlaying(): boolean {\r\n        return this._activeModelBacking?._animationPlaying() ?? false;\r\n    }\r\n\r\n    /**\r\n     * The speed scale at which animations are played.\r\n     */\r\n    public get animationSpeed(): number {\r\n        return this._animationSpeed;\r\n    }\r\n\r\n    public set animationSpeed(value: number) {\r\n        this._animationSpeed = value;\r\n        this._applyAnimationSpeed();\r\n        this.onAnimationSpeedChanged.notifyObservers();\r\n    }\r\n\r\n    /**\r\n     * The current point on the selected animation timeline, normalized between 0 and 1.\r\n     */\r\n    public get animationProgress(): number {\r\n        if (this._activeAnimation) {\r\n            return this._activeAnimation.getCurrentFrame() / (this._activeAnimation.to - this._activeAnimation.from);\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public set animationProgress(value: number) {\r\n        if (this._activeAnimation) {\r\n            this._activeAnimation.goToFrame(value * (this._activeAnimation.to - this._activeAnimation.from));\r\n            this.onAnimationProgressChanged.notifyObservers();\r\n            this._autoRotationBehavior.resetLastInteractionTime();\r\n            this._markSceneMutated();\r\n        }\r\n    }\r\n\r\n    private get _activeAnimation(): Nullable<AnimationGroup> {\r\n        return this._activeModel?.assetContainer.animationGroups[this._activeModel?.selectedAnimation] ?? null;\r\n    }\r\n\r\n    /**\r\n     * The list of material variant names for the currently loaded model.\r\n     */\r\n    public get materialVariants(): readonly string[] {\r\n        return this._activeModel?.materialVariantsController?.variants ?? [];\r\n    }\r\n\r\n    /**\r\n     * The currently selected material variant.\r\n     */\r\n    public get selectedMaterialVariant(): Nullable<string> {\r\n        return this._activeModel?.materialVariantsController?.selectedVariant ?? null;\r\n    }\r\n\r\n    public set selectedMaterialVariant(value: Nullable<string>) {\r\n        if (this._activeModel?.materialVariantsController) {\r\n            if (!value) {\r\n                value = this._activeModel.materialVariantsController.variants[0];\r\n            }\r\n\r\n            if (value !== this.selectedMaterialVariant && this._activeModel.materialVariantsController.variants.includes(value)) {\r\n                this._snapshotHelper.disableSnapshotRendering();\r\n                this._activeModel.materialVariantsController.selectedVariant = value;\r\n                this._snapshotHelper.enableSnapshotRendering();\r\n                this._markSceneMutated();\r\n                this.onSelectedMaterialVariantChanged.notifyObservers();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * The set of defined hotspots.\r\n     */\r\n    public get hotSpots() {\r\n        return this._hotSpots;\r\n    }\r\n\r\n    public set hotSpots(value: Record<string, HotSpot>) {\r\n        this._hotSpots = value;\r\n        this.onHotSpotsChanged.notifyObservers();\r\n    }\r\n\r\n    /**\r\n     * True if scene cameras should be used as hotspots.\r\n     */\r\n    public get camerasAsHotSpots() {\r\n        return this._camerasAsHotSpots;\r\n    }\r\n\r\n    public set camerasAsHotSpots(value: boolean) {\r\n        if (this._camerasAsHotSpots !== value) {\r\n            this._camerasAsHotSpots = value;\r\n            this._toggleCamerasAsHotSpots();\r\n            this.onCamerasAsHotSpotsChanged.notifyObservers();\r\n        }\r\n    }\r\n\r\n    protected _beginLoadOperation(): IDisposable & { progress: Nullable<number> } {\r\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n        const viewer = this;\r\n        let progress: Nullable<number> = null;\r\n\r\n        const loadOperation = {\r\n            get progress() {\r\n                return progress;\r\n            },\r\n            set progress(value: Nullable<number>) {\r\n                progress = value;\r\n                viewer.onLoadingProgressChanged.notifyObservers();\r\n            },\r\n            dispose: () => {\r\n                viewer._loadOperations.delete(loadOperation);\r\n                viewer.onLoadingProgressChanged.notifyObservers();\r\n            },\r\n        };\r\n\r\n        this._loadOperations.add(loadOperation);\r\n        this.onLoadingProgressChanged.notifyObservers();\r\n\r\n        return loadOperation;\r\n    }\r\n\r\n    /**\r\n     * Loads a 3D model from the specified URL.\r\n     * @remarks\r\n     * If a model is already loaded, it will be unloaded before loading the new model.\r\n     * @param source A url or File or ArrayBufferView that points to the model to load.\r\n     * @param options The options to use when loading the model.\r\n     * @param abortSignal An optional signal that can be used to abort the loading process.\r\n     */\r\n    public async loadModel(source: string | File | ArrayBufferView, options?: LoadModelOptions, abortSignal?: AbortSignal): Promise<void> {\r\n        await this._updateModel(source, options, abortSignal);\r\n    }\r\n\r\n    /**\r\n     * Unloads the current 3D model if one is loaded.\r\n     * @param abortSignal An optional signal that can be used to abort the reset.\r\n     */\r\n    public async resetModel(abortSignal?: AbortSignal): Promise<void> {\r\n        await this._updateModel(undefined, undefined, abortSignal);\r\n    }\r\n\r\n    protected async _loadModel(source: string | File | ArrayBufferView, options?: LoadAssetContainerOptions, abortSignal?: AbortSignal): Promise<Model> {\r\n        this._throwIfDisposedOrAborted(abortSignal);\r\n\r\n        const loadOperation = this._beginLoadOperation();\r\n        const originalOnProgress = options?.onProgress;\r\n        const onProgress = (event: ISceneLoaderProgressEvent) => {\r\n            originalOnProgress?.(event);\r\n            loadOperation.progress = event.lengthComputable ? event.loaded / event.total : null;\r\n        };\r\n        delete options?.onProgress;\r\n\r\n        let materialVariantsController: Nullable<MaterialVariantsController> = null;\r\n        const originalOnMaterialVariantsLoaded = options?.pluginOptions?.gltf?.extensionOptions?.KHR_materials_variants?.onLoaded;\r\n        const onMaterialVariantsLoaded: typeof originalOnMaterialVariantsLoaded = (controller) => {\r\n            originalOnMaterialVariantsLoaded?.(controller);\r\n            materialVariantsController = controller;\r\n        };\r\n        delete options?.pluginOptions?.gltf?.extensionOptions?.KHR_materials_variants?.onLoaded;\r\n\r\n        const defaultOptions: LoadAssetContainerOptions = {\r\n            // Pass a progress callback to update the loading progress.\r\n            onProgress,\r\n            pluginOptions: {\r\n                gltf: {\r\n                    // Enable transparency as coverage by default to be 3D Commerce compliant by default.\r\n                    // https://doc.babylonjs.com/setup/support/3D_commerce_certif\r\n                    transparencyAsCoverage: true,\r\n                    extensionOptions: {\r\n                        // eslint-disable-next-line @typescript-eslint/naming-convention\r\n                        KHR_materials_variants: {\r\n                            // Capture the material variants controller when it is loaded.\r\n                            onLoaded: onMaterialVariantsLoaded,\r\n                        },\r\n                    },\r\n                },\r\n            },\r\n        };\r\n\r\n        options = deepMerge(defaultOptions, options ?? {});\r\n\r\n        this._snapshotHelper.disableSnapshotRendering();\r\n\r\n        try {\r\n            const assetContainer = await LoadAssetContainerAsync(source, this._scene, options);\r\n            RemoveUnreferencedVerticesData(assetContainer.meshes.filter((mesh) => mesh instanceof Mesh));\r\n            assetContainer.animationGroups.forEach((group) => {\r\n                group.start(true, this.animationSpeed);\r\n                group.pause();\r\n            });\r\n            assetContainer.addAllToScene();\r\n            this._snapshotHelper.fixMeshes(assetContainer.meshes);\r\n\r\n            let selectedAnimation = -1;\r\n            const cachedWorldBounds: ViewerBoundingInfo[] = [];\r\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n            const viewer = this;\r\n\r\n            const model = {\r\n                assetContainer,\r\n                materialVariantsController,\r\n                _animationPlaying: () => {\r\n                    const activeAnimation = assetContainer.animationGroups[selectedAnimation];\r\n                    return activeAnimation?.isPlaying ?? false;\r\n                },\r\n                _shouldRender: () => {\r\n                    const stillTransitioning = model?.assetContainer.animationGroups.some((group) => group.animatables.some((animatable) => animatable.animationStarted));\r\n                    // Should render if :\r\n                    // 1. An animation is playing.\r\n                    // 2. Animation is paused, but any individual animatable hasn't transitioned to a paused state yet.\r\n                    return model._animationPlaying() || stillTransitioning;\r\n                },\r\n                getHotSpotToRef: (query: Readonly<ViewerHotSpotQuery>, result: ViewerHotSpotResult) => {\r\n                    return this._getHotSpotToRef(assetContainer, query, result);\r\n                },\r\n                dispose: () => {\r\n                    this._snapshotHelper.disableSnapshotRendering();\r\n                    assetContainer.meshes.forEach((mesh) => this._meshDataCache.delete(mesh));\r\n                    assetContainer.dispose();\r\n\r\n                    const index = this._loadedModelsBacking.indexOf(model);\r\n                    if (index !== -1) {\r\n                        this._loadedModelsBacking.splice(index, 1);\r\n                        if (model === this._activeModel) {\r\n                            this._setActiveModel(null);\r\n                        }\r\n                    }\r\n\r\n                    this._snapshotHelper.enableSnapshotRendering();\r\n                    this._markSceneMutated();\r\n                },\r\n                getWorldBounds: (animationIndex: number = selectedAnimation): Nullable<ViewerBoundingInfo> => {\r\n                    let worldBounds: Nullable<ViewerBoundingInfo> = cachedWorldBounds[animationIndex];\r\n                    if (!worldBounds) {\r\n                        worldBounds = computeModelsBoundingInfos([model]);\r\n                        if (worldBounds) {\r\n                            cachedWorldBounds[animationIndex] = worldBounds;\r\n                        }\r\n                    }\r\n                    return worldBounds;\r\n                },\r\n                resetWorldBounds: () => {\r\n                    cachedWorldBounds.length = 0;\r\n                },\r\n                get selectedAnimation() {\r\n                    return selectedAnimation;\r\n                },\r\n                set selectedAnimation(index: number) {\r\n                    let activeAnimation = assetContainer.animationGroups[selectedAnimation];\r\n                    const startAnimation = activeAnimation?.isPlaying ?? false;\r\n                    if (activeAnimation) {\r\n                        activeAnimation.pause();\r\n                        activeAnimation.goToFrame(0);\r\n                    }\r\n\r\n                    selectedAnimation = index;\r\n                    activeAnimation = assetContainer.animationGroups[selectedAnimation];\r\n                    observePromise(viewer._updateShadows());\r\n\r\n                    if (activeAnimation) {\r\n                        activeAnimation.goToFrame(0);\r\n                        activeAnimation.play(true);\r\n\r\n                        if (!startAnimation) {\r\n                            activeAnimation.pause();\r\n                        }\r\n                    }\r\n                },\r\n                makeActive: (options?: ActivateModelOptions) => {\r\n                    this._setActiveModel(model, options);\r\n                },\r\n            };\r\n\r\n            this._loadedModelsBacking.push(model);\r\n\r\n            return model;\r\n        } catch (e) {\r\n            this.onModelError.notifyObservers(e);\r\n            throw e;\r\n        } finally {\r\n            loadOperation.dispose();\r\n            this._snapshotHelper.enableSnapshotRendering();\r\n            this._markSceneMutated();\r\n        }\r\n    }\r\n\r\n    private async _updateModel(source: string | File | ArrayBufferView | undefined, options?: LoadModelOptions, abortSignal?: AbortSignal): Promise<void> {\r\n        this._throwIfDisposedOrAborted(abortSignal);\r\n\r\n        this._loadModelAbortController?.abort(new AbortError(\"New model is being loaded before previous model finished loading.\"));\r\n        const abortController = (this._loadModelAbortController = new AbortController());\r\n\r\n        await this._loadModelLock.lockAsync(async () => {\r\n            throwIfAborted(abortSignal, abortController.signal);\r\n            this._activeModel?.dispose();\r\n            this._activeModelBacking = null;\r\n            this.selectedAnimation = -1;\r\n\r\n            if (source) {\r\n                const model = await this._loadModel(source, options, abortController.signal);\r\n                model.makeActive(Object.assign({ source, interpolateCamera: false }, options));\r\n                this._reset(false, \"camera\", \"animation\", \"material-variant\");\r\n            }\r\n        });\r\n\r\n        // If there are PBR materials after the model load operation and an environment texture is not loaded, load the default environment.\r\n        if (!this._scene.environmentTexture && this._scene.materials.some((material) => material instanceof PBRMaterial)) {\r\n            await this.resetEnvironment({ lighting: true }, abortSignal);\r\n        }\r\n\r\n        this._startSceneOptimizer(true);\r\n    }\r\n\r\n    protected async _updateShadows() {\r\n        this._shadowsAbortController?.abort(new AbortError(\"Shadows quality is being change before previous shadows finished initializing.\"));\r\n        const abortController = (this._shadowsAbortController = new AbortController());\r\n\r\n        await this._updateShadowsLock.lockAsync(async () => {\r\n            if (this._shadowQuality === \"none\") {\r\n                this._disposeShadows();\r\n            } else {\r\n                // make sure there is an env light before creating shadows\r\n                if (!this._reflectionTexture) {\r\n                    await this.loadEnvironment(\"auto\", { lighting: true, skybox: false });\r\n                }\r\n\r\n                if (this._shadowQuality === \"normal\") {\r\n                    await this._updateShadowMap(abortController.signal);\r\n                } else if (this._shadowQuality === \"high\") {\r\n                    await this._updateEnvShadow(abortController.signal);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private _changeShadowLightIntensity() {\r\n        if (this._shadowState.high) {\r\n            this._shadowState.high.pipeline.resetAccumulation();\r\n            this._startIblShadowsRenderTime();\r\n        }\r\n    }\r\n\r\n    private _rotateShadowLightWithEnvironment(): void {\r\n        if (this._shadowQuality === \"normal\" && this._shadowState.normal) {\r\n            const x = Math.cos(this._reflectionsRotation);\r\n            const z = Math.sin(this._reflectionsRotation);\r\n            if (this._shadowState.normal.light) {\r\n                const light = this._shadowState.normal.light;\r\n                const radius = light.position.y;\r\n                light.position.set(x * radius, light.position.y, z * radius);\r\n                light.direction.set(-x, -1, -z);\r\n            }\r\n        } else if (this._shadowQuality === \"high\" && this._shadowState.high) {\r\n            this._shadowState.high.pipeline?.resetAccumulation();\r\n            this._startIblShadowsRenderTime();\r\n        }\r\n    }\r\n\r\n    // maybe move this into shadow state\r\n    private _startIblShadowsRenderTime() {\r\n        if (this._shadowState.high) {\r\n            if (this._shadowState.high.renderTimer != null) {\r\n                clearTimeout(this._shadowState.high.renderTimer);\r\n            } else {\r\n                // Only disable if a timeout is not pending, otherwise it has already been called without a paired enable call.\r\n                this._snapshotHelper.disableSnapshotRendering();\r\n            }\r\n\r\n            this._shadowState.high.shouldRender = true;\r\n            const onRenderTimeout = () => {\r\n                if (this._shadowState.high) {\r\n                    this._shadowState.high.shouldRender = false;\r\n                    this._shadowState.high.renderTimer = null;\r\n                }\r\n                this._snapshotHelper.enableSnapshotRendering();\r\n            };\r\n            this._shadowState.high.renderTimer = setTimeout(\r\n                onRenderTimeout,\r\n                // based on the shadow remanence as we can't estimate the time it takes to accumulate the shadows\r\n                this._shadowState.high.pipeline.shadowRemanence * 4000\r\n            );\r\n        }\r\n    }\r\n\r\n    private async _updateEnvShadow(abortSignal?: AbortSignal) {\r\n        // eslint-disable-next-line @typescript-eslint/naming-convention\r\n        const [{ ShaderMaterial }, { ShaderLanguage }, { CreateDisc }, { IblShadowsRenderPipeline }] = await Promise.all([\r\n            import(\"core/Materials/shaderMaterial\"),\r\n            import(\"core/Materials/shaderLanguage\"),\r\n            import(\"core/Meshes/Builders/discBuilder\"),\r\n            import(\"core/Rendering/IBLShadows/iblShadowsRenderPipeline\"),\r\n            import(\"core/Engines/Extensions/engine.multiRender\"),\r\n            import(\"core/Engines/WebGPU/Extensions/engine.multiRender\"),\r\n            import(\"core/PostProcesses/RenderPipeline/postProcessRenderPipelineManagerSceneComponent\"),\r\n        ]);\r\n\r\n        // cancel if the model is unloaded before the shadows are created\r\n        this._throwIfDisposedOrAborted(abortSignal, this._loadModelAbortController?.signal, this._loadEnvironmentAbortController?.signal);\r\n\r\n        let high = this._shadowState.high;\r\n\r\n        const worldBounds = computeModelsBoundingInfos(this._loadedModelsBacking);\r\n        if (!worldBounds) {\r\n            high?.ground.setEnabled(false);\r\n            this._log(\"No models loaded, cannot create shadows.\");\r\n            return;\r\n        }\r\n\r\n        const groundFactor = 4;\r\n        const radius = Vector3.FromArray(worldBounds.size).length();\r\n        const groundSize = groundFactor * radius;\r\n\r\n        const updateMaterial = () => {\r\n            if (this._shadowState.high) {\r\n                this._snapshotHelper.disableSnapshotRendering();\r\n                const { pipeline, groundMaterial, ground } = this._shadowState.high;\r\n                groundMaterial?.setVector2(\"renderTargetSize\", new Vector2(this._scene.getEngine().getRenderWidth(), this._scene.getEngine().getRenderHeight()));\r\n                groundMaterial?.setFloat(\"shadowOpacity\", pipeline.shadowOpacity);\r\n                groundMaterial?.setTexture(\"shadowTexture\", pipeline._getAccumulatedTexture());\r\n                const groundSize = groundFactor * pipeline?.voxelGridSize;\r\n                ground?.scaling.set(groundSize, groundSize, groundSize);\r\n                this._snapshotHelper.enableSnapshotRendering();\r\n                this._markSceneMutated();\r\n            }\r\n        };\r\n\r\n        this._snapshotHelper.disableSnapshotRendering();\r\n        if (!high) {\r\n            const pipeline = new IblShadowsRenderPipeline(\r\n                \"ibl shadows\",\r\n                this._scene,\r\n                {\r\n                    resolutionExp: 6,\r\n                    sampleDirections: 3,\r\n                    ssShadowsEnabled: true,\r\n                    shadowRemanence: 0.7,\r\n                    triPlanarVoxelization: true,\r\n                },\r\n                [this._camera]\r\n            );\r\n\r\n            pipeline.toggleShadow(false);\r\n\r\n            // Useful for debugging, but not needed in production\r\n            // pipeline.allowDebugPasses = false;\r\n            // pipeline.gbufferDebugEnabled = false;\r\n            // pipeline.voxelDebugEnabled = false;\r\n            // pipeline.accumulationPassDebugEnabled = false;\r\n\r\n            const isWebGPU = this._scene.getEngine().isWebGPU;\r\n            const shaderLanguage = isWebGPU ? ShaderLanguage.WGSL : ShaderLanguage.GLSL;\r\n            const options = {\r\n                attributes: [\"position\", \"uv\"],\r\n                uniforms: [\"world\", \"worldView\", \"worldViewProjection\", \"view\", \"projection\", \"renderTargetSize\", \"shadowOpacity\"],\r\n                samplers: [\"shadowTexture\"],\r\n                shaderLanguage,\r\n                extraInitializationsAsync: async () => {\r\n                    if (shaderLanguage === ShaderLanguage.WGSL) {\r\n                        await Promise.all([import(\"./ShadersWGSL/envShadowGround.vertex\"), import(\"./ShadersWGSL/envShadowGround.fragment\")]);\r\n                    } else {\r\n                        await Promise.all([import(\"./Shaders/envShadowGround.vertex\"), import(\"./Shaders/envShadowGround.fragment\")]);\r\n                    }\r\n                },\r\n            };\r\n\r\n            const groundMaterial = new ShaderMaterial(\"envShadowGroundMaterial\", this._scene, \"envShadowGround\", options);\r\n            groundMaterial.alphaMode = Constants.ALPHA_MULTIPLY;\r\n            groundMaterial.alpha = 0.99;\r\n\r\n            updateMaterial();\r\n\r\n            pipeline.onShadowTextureReadyObservable.addOnce(updateMaterial);\r\n\r\n            const resizeObserver = this._engine.onResizeObservable.add(() => {\r\n                updateMaterial();\r\n                pipeline?.resetAccumulation();\r\n                this._startIblShadowsRenderTime();\r\n            });\r\n\r\n            this._camera.onViewMatrixChangedObservable.add(() => {\r\n                this._startIblShadowsRenderTime();\r\n            });\r\n\r\n            const ground = CreateDisc(\"envShadowGround\", { radius: groundSize, tessellation: 64 }, this._scene);\r\n            ground.setEnabled(false);\r\n            ground.rotation.x = Math.PI / 2;\r\n            ground.position.y = worldBounds.extents.min[1];\r\n            ground.material = groundMaterial;\r\n\r\n            high = {\r\n                pipeline: pipeline,\r\n                groundMaterial: groundMaterial,\r\n                resizeObserver: resizeObserver,\r\n                shouldRender: true,\r\n                ground: ground,\r\n            };\r\n        }\r\n\r\n        // Remove previous meshes and materials.\r\n        high.pipeline.clearShadowCastingMeshes();\r\n        high.pipeline.clearShadowReceivingMaterials();\r\n\r\n        for (const model of this._loadedModelsBacking) {\r\n            const meshes = model.assetContainer.meshes;\r\n            for (const mesh of meshes) {\r\n                if (mesh instanceof Mesh) {\r\n                    high.pipeline.addShadowCastingMesh(mesh);\r\n                    if (mesh.material) {\r\n                        high.pipeline.addShadowReceivingMaterial(mesh.material);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        high.pipeline.onVoxelizationCompleteObservable.addOnce(() => {\r\n            this._snapshotHelper.disableSnapshotRendering();\r\n            updateMaterial();\r\n            high.pipeline.toggleShadow(true);\r\n            high.ground.setEnabled(true);\r\n            this._snapshotHelper.enableSnapshotRendering();\r\n            this._markSceneMutated();\r\n        });\r\n\r\n        high.ground.position.y = worldBounds.extents.min[1];\r\n\r\n        // call the update now because a model might be loaded before the shadows are created\r\n        high.pipeline.updateSceneBounds();\r\n        high.pipeline.updateVoxelization();\r\n        high.pipeline.resetAccumulation();\r\n        // shadow map\r\n        this._shadowState.normal?.ground.setEnabled(false);\r\n        high.pipeline.toggleShadow(true);\r\n        high.ground.setEnabled(true);\r\n        this._startIblShadowsRenderTime();\r\n\r\n        this._shadowState.high = high;\r\n\r\n        this._snapshotHelper.enableSnapshotRendering();\r\n        this._markSceneMutated();\r\n    }\r\n\r\n    private async _updateShadowMap(abortSignal?: AbortSignal) {\r\n        // eslint-disable-next-line @typescript-eslint/naming-convention\r\n        const [{ CreateDisc }, { RenderTargetTexture }, { ShadowGenerator }] = await Promise.all([\r\n            import(\"core/Meshes/Builders/discBuilder\"),\r\n            import(\"core/Materials/Textures/renderTargetTexture\"),\r\n            import(\"core/Lights/Shadows/shadowGenerator\"),\r\n            import(\"core/Lights/Shadows/shadowGeneratorSceneComponent\"),\r\n        ]);\r\n\r\n        // cancel if the model is unloaded before the shadows are created\r\n        this._throwIfDisposedOrAborted(abortSignal, this._loadModelAbortController?.signal, this._loadEnvironmentAbortController?.signal);\r\n\r\n        let normal = this._shadowState.normal;\r\n\r\n        const worldBounds = computeModelsBoundingInfos(this._loadedModelsBacking);\r\n        if (!worldBounds) {\r\n            normal?.ground.setEnabled(false);\r\n            this._log(\"No models loaded, cannot create shadows.\");\r\n            return;\r\n        }\r\n\r\n        const radius = Vector3.FromArray(worldBounds.size).length();\r\n        const x = Math.cos(this._reflectionsRotation);\r\n        const z = Math.sin(this._reflectionsRotation);\r\n\r\n        if (this._shadowQuality !== \"normal\") {\r\n            return;\r\n        }\r\n\r\n        this._snapshotHelper.disableSnapshotRendering();\r\n\r\n        const size = 4096;\r\n        const positionFactor = 3;\r\n        const groundFactor = 20;\r\n        const groundSize = radius * groundFactor;\r\n\r\n        const position = new Vector3(x * (radius * positionFactor), radius * positionFactor, z * (radius * positionFactor));\r\n        if (!normal) {\r\n            const light = new SpotLight(\"shadowLight\", position, new Vector3(-x, -1, -z), Math.PI / 3, 30, this._scene);\r\n\r\n            const generator = new ShadowGenerator(size, light);\r\n            generator.setDarkness(0.8);\r\n            generator.setTransparencyShadow(true);\r\n            generator.filteringQuality = ShadowGenerator.QUALITY_HIGH;\r\n            generator.useBlurExponentialShadowMap = true;\r\n            generator.enableSoftTransparentShadow = true;\r\n            generator.bias = radius / 1000;\r\n            generator.useKernelBlur = true;\r\n            generator.blurKernel = 32;\r\n\r\n            const shadowMap = generator.getShadowMap();\r\n            if (shadowMap) {\r\n                shadowMap.refreshRate = RenderTargetTexture.REFRESHRATE_RENDER_ONEVERYFRAME;\r\n            }\r\n\r\n            const shadowMaterial = new BackgroundMaterial(\"shadowMapGroundMaterial\", this._scene);\r\n            shadowMaterial.shadowOnly = true;\r\n            shadowMaterial.primaryColor = Color3.Black();\r\n\r\n            const ground = CreateDisc(\"shadowMapGround\", { radius: groundSize, tessellation: 64 }, this._scene);\r\n            ground.rotation.x = Math.PI / 2;\r\n            ground.receiveShadows = true;\r\n            ground.position.y = worldBounds.extents.min[1];\r\n            ground.material = shadowMaterial;\r\n            light.includedOnlyMeshes = [ground];\r\n\r\n            const newNormal: ShadowState[\"normal\"] = (normal = {\r\n                light: light,\r\n                generator: generator,\r\n                ground: ground,\r\n                shouldRender: true,\r\n            });\r\n\r\n            // Since the light is not applied to the meshes of the model (we only want shadows, not lighting),\r\n            // the ShadowGenerator's isReady will think everything is ready before it actually is. To account\r\n            // for this, explicitly wait for the first shadow map render to consider shadows in a ready state.\r\n            generator.onAfterShadowMapRenderObservable.addOnce(() => {\r\n                newNormal.shouldRender = false;\r\n            });\r\n        }\r\n\r\n        normal.light.position = position;\r\n\r\n        for (const model of this._loadedModelsBacking) {\r\n            // Add all root meshes to the shadow generator.\r\n            for (const mesh of model.assetContainer.meshes.filter((mesh) => !mesh.parent)) {\r\n                normal.generator.addShadowCaster(mesh, true);\r\n            }\r\n            // Set all meshes to receive shadows.\r\n            for (const mesh of model.assetContainer.meshes) {\r\n                mesh.receiveShadows = true;\r\n            }\r\n        }\r\n\r\n        normal.ground.position.y = worldBounds.extents.min[1];\r\n        normal.ground.scaling.set(groundSize, groundSize, groundSize);\r\n\r\n        this._shadowState.high?.ground.setEnabled(false);\r\n        this._shadowState.high?.pipeline.toggleShadow(false);\r\n        normal.ground.setEnabled(true);\r\n\r\n        this._shadowState.normal = normal;\r\n\r\n        this._snapshotHelper.enableSnapshotRendering();\r\n        this._markSceneMutated();\r\n    }\r\n\r\n    private _disposeShadows() {\r\n        this._snapshotHelper.disableSnapshotRendering();\r\n\r\n        if (!this._shadowState) {\r\n            return;\r\n        }\r\n\r\n        for (const model of this._loadedModelsBacking) {\r\n            const meshes = model.assetContainer.meshes;\r\n\r\n            const mesh = model.assetContainer.meshes[0];\r\n            this._shadowState.normal?.generator.removeShadowCaster(mesh, true);\r\n            mesh.receiveShadows = false;\r\n\r\n            for (const mesh of meshes) {\r\n                if (mesh instanceof Mesh) {\r\n                    this._shadowState.high?.pipeline.removeShadowCastingMesh(mesh);\r\n                    if (mesh.material) {\r\n                        this._shadowState.high?.pipeline.removeShadowReceivingMaterial(mesh.material);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        const highShadow = this._shadowState.high;\r\n        const normalShadow = this._shadowState.normal;\r\n\r\n        if (normalShadow) {\r\n            normalShadow.generator.dispose();\r\n            normalShadow.light.dispose();\r\n            normalShadow.ground.dispose(true, true);\r\n            this._scene.removeMesh(normalShadow.ground);\r\n        }\r\n\r\n        if (highShadow) {\r\n            highShadow.resizeObserver.remove();\r\n            highShadow.pipeline.dispose();\r\n            highShadow.ground.dispose(true, true);\r\n            this._scene.removeMesh(highShadow.ground);\r\n            if (highShadow.renderTimer) {\r\n                clearTimeout(highShadow.renderTimer);\r\n            }\r\n        }\r\n\r\n        delete this._shadowState.normal;\r\n        delete this._shadowState.high;\r\n        this.onShadowsConfigurationChanged.clear();\r\n\r\n        this._snapshotHelper.enableSnapshotRendering();\r\n        this._markSceneMutated();\r\n    }\r\n\r\n    /**\r\n     * Loads an environment texture from the specified url and sets up a corresponding skybox.\r\n     * @remarks\r\n     * If an environment is already loaded, it will be unloaded before loading the new environment.\r\n     * @param url The url of the environment texture to load.\r\n     * @param options The options to use when loading the environment.\r\n     * @param abortSignal An optional signal that can be used to abort the loading process.\r\n     */\r\n    public async loadEnvironment(url: string, options?: LoadEnvironmentOptions, abortSignal?: AbortSignal): Promise<void> {\r\n        await this._updateEnvironment(url, options, abortSignal);\r\n    }\r\n\r\n    /**\r\n     * Resets the environment to its default state.\r\n     * @param options The options to use when resetting the environment.\r\n     * @param abortSignal An optional signal that can be used to abort the reset.\r\n     */\r\n    public async resetEnvironment(options?: EnvironmentOptions, abortSignal?: AbortSignal): Promise<void> {\r\n        const promises: Promise<void>[] = [];\r\n        // When there are PBR materials, the default environment should be used for lighting.\r\n        if (options?.lighting && this._scene.materials.some((material) => material instanceof PBRMaterial)) {\r\n            const lightingOptions = { ...options, skybox: false };\r\n            options = { ...options, lighting: false };\r\n            promises.push(this._updateEnvironment(\"auto\", lightingOptions, abortSignal));\r\n        }\r\n\r\n        promises.push(this._updateEnvironment(undefined, options, abortSignal));\r\n        await Promise.all(promises);\r\n    }\r\n\r\n    private _setEnvironmentLighting(cubeTexture: CubeTexture | HDRCubeTexture): void {\r\n        this._reflectionTexture = cubeTexture;\r\n        this._scene.environmentTexture = this._reflectionTexture;\r\n        this._reflectionTexture.level = this.environmentConfig.intensity;\r\n        this._reflectionTexture.rotationY = this.environmentConfig.rotation;\r\n    }\r\n\r\n    private _setEnvironmentSkybox(cubeTexture: CubeTexture | HDRCubeTexture): void {\r\n        this._skyboxTexture = cubeTexture;\r\n        this._skyboxTexture.level = this.environmentConfig.intensity;\r\n        this._skyboxTexture.rotationY = this.environmentConfig.rotation;\r\n        this._skybox = createSkybox(this._scene, this._camera, this._skyboxTexture, this.environmentConfig.blur);\r\n        this._skybox.setEnabled(true);\r\n        this._snapshotHelper.fixMeshes([this._skybox]);\r\n        this._updateAutoClear();\r\n    }\r\n\r\n    private async _updateEnvironment(url: Nullable<string | undefined>, options: LoadEnvironmentOptions = defaultLoadEnvironmentOptions, abortSignal?: AbortSignal): Promise<void> {\r\n        this._throwIfDisposedOrAborted(abortSignal);\r\n\r\n        if (!options.lighting && !options.skybox) {\r\n            return;\r\n        }\r\n\r\n        url = url?.trim();\r\n        if (url === \"auto\") {\r\n            options = { ...options, extension: \".env\" };\r\n        }\r\n\r\n        this._loadEnvironmentAbortController?.abort(new AbortError(\"New environment is being loaded before previous environment finished loading.\"));\r\n        const loadEnvironmentAbortController = (this._loadEnvironmentAbortController = new AbortController());\r\n\r\n        await this._loadEnvironmentLock.lockAsync(async () => {\r\n            throwIfAborted(abortSignal, loadEnvironmentAbortController.signal);\r\n\r\n            const getDefaultEnvironmentUrlAsync = async () => (await import(\"./defaultEnvironment\")).default;\r\n\r\n            const whenTextureLoadedAsync = async (cubeTexture: CubeTexture | HDRCubeTexture) => {\r\n                await new Promise<void>((resolve, reject) => {\r\n                    const successObserver = (cubeTexture.onLoadObservable as Observable<unknown>).addOnce(() => {\r\n                        successObserver.remove();\r\n                        errorObserver.remove();\r\n                        resolve();\r\n                    });\r\n\r\n                    const errorObserver = Texture.OnTextureLoadErrorObservable.add((texture) => {\r\n                        if (texture === cubeTexture) {\r\n                            successObserver.remove();\r\n                            errorObserver.remove();\r\n                            reject(new Error(\"Failed to load environment texture.\"));\r\n                        }\r\n                    });\r\n                });\r\n            };\r\n\r\n            const mode: EnvironmentMode = !url ? \"none\" : url === \"auto\" ? \"auto\" : \"url\";\r\n\r\n            this._environmentLightingMode = options.lighting ? mode : this._environmentLightingMode;\r\n            this._environmentSkyboxMode = options.skybox ? mode : this._environmentSkyboxMode;\r\n\r\n            let lightingUrl: Nullable<string | undefined> = this._reflectionTexture?.url;\r\n            let skyboxUrl: Nullable<string | undefined> = this._skyboxTexture?.url;\r\n\r\n            this._snapshotHelper.disableSnapshotRendering();\r\n\r\n            try {\r\n                // If both modes are auto, use the default environment.\r\n                if (this._environmentLightingMode === \"auto\" && this._environmentSkyboxMode === \"auto\") {\r\n                    lightingUrl = skyboxUrl = await getDefaultEnvironmentUrlAsync();\r\n                } else {\r\n                    // If the lighting mode is not auto and we are updating the lighting, use the provided url.\r\n                    if (this._environmentLightingMode !== \"auto\" && options.lighting) {\r\n                        lightingUrl = url;\r\n                    }\r\n\r\n                    // If the skybox mode is not auto and we are updating the skybox, use the provided url.\r\n                    if (this._environmentSkyboxMode !== \"auto\" && options.skybox) {\r\n                        skyboxUrl = url;\r\n                    }\r\n\r\n                    // If the lighting mode is auto, use the skybox texture if there is one, otherwise use the default environment.\r\n                    if (this._environmentLightingMode === \"auto\") {\r\n                        lightingUrl = skyboxUrl ?? (await getDefaultEnvironmentUrlAsync());\r\n                    }\r\n\r\n                    // If the skybox mode is auto, use the lighting texture if there is one, otherwise use the default environment.\r\n                    if (this._environmentSkyboxMode === \"auto\") {\r\n                        skyboxUrl = lightingUrl ?? (await getDefaultEnvironmentUrlAsync());\r\n                    }\r\n                }\r\n\r\n                const newTexturePromises: Promise<void>[] = [];\r\n\r\n                // If the lighting url is not the same as the current lighting url, load the new lighting texture.\r\n                if (lightingUrl !== this._reflectionTexture?.url) {\r\n                    // Dispose the existing lighting texture if it exists.\r\n                    this._reflectionTexture?.dispose();\r\n                    this._reflectionTexture = null;\r\n                    this._scene.environmentTexture = null;\r\n\r\n                    // Load the new lighting texture if there is a target url.\r\n                    if (lightingUrl) {\r\n                        if (lightingUrl === this._skyboxTexture?.url) {\r\n                            // If the lighting url is the same as the skybox url, clone the skybox texture.\r\n                            this._setEnvironmentLighting(this._skyboxTexture.clone());\r\n                        } else {\r\n                            // Otherwise, create a new cube texture from the lighting url.\r\n                            const lightingTexture = await createCubeTexture(lightingUrl, this._scene, options.extension);\r\n                            newTexturePromises.push(whenTextureLoadedAsync(lightingTexture));\r\n                            this._setEnvironmentLighting(lightingTexture);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // If the skybox url is not the same as the current skybox url, load the new skybox texture.\r\n                if (skyboxUrl !== this._skyboxTexture?.url) {\r\n                    // Dispose the existing skybox texture if it exists.\r\n                    this._skybox?.dispose(undefined, true);\r\n                    this._skyboxTexture = null;\r\n                    this._skybox = null;\r\n                    this._updateAutoClear();\r\n\r\n                    // Load the new skybox texture if there is a target url.\r\n                    if (skyboxUrl) {\r\n                        if (skyboxUrl === this._reflectionTexture?.url) {\r\n                            // If the skybox url is the same as the lighting url, clone the lighting texture.\r\n                            this._setEnvironmentSkybox(this._reflectionTexture.clone());\r\n                        } else {\r\n                            // Otherwise, create a new cube texture from the skybox url.\r\n                            const skyboxTexture = await createCubeTexture(skyboxUrl, this._scene, options.extension);\r\n                            newTexturePromises.push(whenTextureLoadedAsync(skyboxTexture));\r\n                            this._setEnvironmentSkybox(skyboxTexture);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                await Promise.all(newTexturePromises);\r\n\r\n                this._updateLight();\r\n                observePromise(this._updateShadows());\r\n                this.onEnvironmentChanged.notifyObservers();\r\n            } catch (e) {\r\n                this.onEnvironmentError.notifyObservers(e);\r\n                throw e;\r\n            } finally {\r\n                this._snapshotHelper.enableSnapshotRendering();\r\n                this._markSceneMutated();\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Toggles the play/pause animation state if there is a selected animation.\r\n     */\r\n    public toggleAnimation() {\r\n        if (this.isAnimationPlaying) {\r\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n            this.pauseAnimation();\r\n        } else {\r\n            this.playAnimation();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Plays the selected animation if there is one.\r\n     */\r\n    public playAnimation() {\r\n        this._activeAnimation?.play(true);\r\n    }\r\n\r\n    /**\r\n     * Pauses the selected animation if there is one.\r\n     */\r\n    public async pauseAnimation() {\r\n        this._activeAnimation?.pause();\r\n    }\r\n\r\n    /**\r\n     * Resets the camera to its initial pose.\r\n     * @param reframe If true, the camera will be reframed to fit the model bounds. If false, it will use the default camera pose passed in with the options to the constructor (if present).\r\n     *                If undefined, default to false if other viewer state matches the default state (such as the selected animation), otherwise true.\r\n     */\r\n    public resetCamera(reframe?: boolean): void {\r\n        if (reframe == undefined) {\r\n            // If the selected animation is different from the default, there is a good chance the default explicit camera framing won't make sense\r\n            // and the model may not even be in view. So when this is the case, by default we reframe the camera.\r\n            reframe = this.selectedAnimation !== (this._options?.selectedAnimation ?? 0);\r\n        }\r\n\r\n        if (reframe) {\r\n            this._reframeCamera(true);\r\n        } else {\r\n            this._reset(true, \"camera\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Updates the camera pose.\r\n     * @param pose The new pose of the camera.\r\n     * @remarks Any unspecified values are left unchanged.\r\n     */\r\n    public updateCamera(pose: { alpha?: number; beta?: number; radius?: number; targetX?: number; targetY?: number; targetZ?: number }): void {\r\n        // undefined means default for _resetCameraFromBounds, so convert to NaN if needed.\r\n        this._reframeCameraFromBounds(\r\n            true,\r\n            this._loadedModels,\r\n            pose.alpha ?? NaN,\r\n            pose.beta ?? NaN,\r\n            pose.radius ?? NaN,\r\n            pose.targetX ?? NaN,\r\n            pose.targetY ?? NaN,\r\n            pose.targetZ ?? NaN\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Resets the viewer to its initial state based on the options passed in to the constructor.\r\n     * @param flags The flags that specify which parts of the viewer to reset. If no flags are provided, all parts will be reset.\r\n     * - \"source\": Reset the loaded model.\r\n     * - \"environment\": Reset environment related state.\r\n     * - \"animation\": Reset animation related state.\r\n     * - \"camera\": Reset camera related state.\r\n     * - \"post-processing\": Reset post-processing related state.\r\n     * - \"material-variant\": Reset material variant related state.\r\n     */\r\n    public reset(...flags: ResetFlag[]) {\r\n        this._reset(true, ...flags);\r\n    }\r\n\r\n    private _reset(interpolate: boolean, ...flags: ResetFlag[]) {\r\n        if (flags.length === 0 || flags.includes(\"source\")) {\r\n            observePromise(this._updateModel(this._options?.source));\r\n        }\r\n\r\n        if (flags.length === 0 || flags.includes(\"environment\")) {\r\n            this._scene.clearColor = new Color4(...(this._options?.clearColor ?? DefaultViewerOptions.clearColor));\r\n            this.environmentConfig = {\r\n                intensity: this._options?.environmentConfig?.intensity ?? DefaultViewerOptions.environmentConfig.intensity,\r\n                blur: this._options?.environmentConfig?.blur ?? DefaultViewerOptions.environmentConfig.blur,\r\n                rotation: this._options?.environmentConfig?.rotation ?? DefaultViewerOptions.environmentConfig.rotation,\r\n            };\r\n\r\n            if (this._options?.environmentLighting === this._options?.environmentSkybox) {\r\n                observePromise(this._updateEnvironment(this._options?.environmentLighting, { lighting: true, skybox: true }));\r\n            } else {\r\n                observePromise(this._updateEnvironment(this._options?.environmentLighting, { lighting: true }));\r\n                observePromise(this._updateEnvironment(this._options?.environmentSkybox, { skybox: true }));\r\n            }\r\n        }\r\n\r\n        if (flags.length === 0 || flags.includes(\"shadow\")) {\r\n            this._shadowQuality = this._options?.shadowConfig?.quality ?? DefaultViewerOptions.shadowConfig.quality;\r\n            observePromise(this.updateShadows({ quality: this._shadowQuality }));\r\n        }\r\n\r\n        if (flags.length === 0 || flags.includes(\"animation\")) {\r\n            this.animationSpeed = this._options?.animationSpeed ?? DefaultViewerOptions.animationSpeed;\r\n            this.selectedAnimation = this._options?.selectedAnimation ?? 0;\r\n            if (this._options?.animationAutoPlay) {\r\n                this.playAnimation();\r\n            } else {\r\n                // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n                this.pauseAnimation();\r\n            }\r\n        }\r\n\r\n        if (flags.length === 0 || flags.includes(\"camera\")) {\r\n            // In the case of resetting the camera, we always want to restore default states, so convert NaN to undefined.\r\n            const alpha = Number(this._options?.cameraOrbit?.[0]);\r\n            const beta = Number(this._options?.cameraOrbit?.[1]);\r\n            const radius = Number(this._options?.cameraOrbit?.[2]);\r\n            const targetX = Number(this._options?.cameraTarget?.[0]);\r\n            const targetY = Number(this._options?.cameraTarget?.[1]);\r\n            const targetZ = Number(this._options?.cameraTarget?.[2]);\r\n            this._reframeCameraFromBounds(\r\n                interpolate,\r\n                this._loadedModels,\r\n                isNaN(alpha) ? undefined : alpha,\r\n                isNaN(beta) ? undefined : beta,\r\n                isNaN(radius) ? undefined : radius,\r\n                isNaN(targetX) ? undefined : targetX,\r\n                isNaN(targetY) ? undefined : targetY,\r\n                isNaN(targetZ) ? undefined : targetZ\r\n            );\r\n            this.cameraAutoOrbit = {\r\n                enabled: this._options?.cameraAutoOrbit?.enabled ?? DefaultViewerOptions.cameraAutoOrbit.enabled,\r\n                speed: this._options?.cameraAutoOrbit?.speed ?? DefaultViewerOptions.cameraAutoOrbit.speed,\r\n                delay: this._options?.cameraAutoOrbit?.delay ?? DefaultViewerOptions.cameraAutoOrbit.delay,\r\n            };\r\n        }\r\n\r\n        if (flags.length === 0 || flags.includes(\"post-processing\")) {\r\n            this.postProcessing = {\r\n                toneMapping: this._options?.postProcessing?.toneMapping ?? DefaultViewerOptions.postProcessing.toneMapping,\r\n                contrast: this._options?.postProcessing?.contrast ?? DefaultViewerOptions.postProcessing.contrast,\r\n                exposure: this._options?.postProcessing?.exposure ?? DefaultViewerOptions.postProcessing.exposure,\r\n            };\r\n        }\r\n\r\n        if (flags.length === 0 || flags.includes(\"material-variant\")) {\r\n            this.selectedMaterialVariant = this._options?.selectedMaterialVariant ?? null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Disposes of the resources held by the Viewer.\r\n     */\r\n    public dispose(): void {\r\n        this.selectedAnimation = -1;\r\n        this.animationProgress = 0;\r\n\r\n        this._loadEnvironmentAbortController?.abort(new AbortError(\"Thew viewer is being disposed.\"));\r\n        this._loadModelAbortController?.abort(new AbortError(\"Thew viewer is being disposed.\"));\r\n        this._camerasAsHotSpotsAbortController?.abort(new AbortError(\"Thew viewer is being disposed.\"));\r\n        this._shadowsAbortController?.abort(new AbortError(\"Thew viewer is being disposed.\"));\r\n\r\n        this._renderLoopController?.dispose();\r\n        this._activeModel?.dispose();\r\n        this._loadedModelsBacking.forEach((model) => model.dispose());\r\n        this._disposeShadows();\r\n        this._scene.dispose();\r\n\r\n        this.onEnvironmentChanged.clear();\r\n        this.onEnvironmentError.clear();\r\n        this.onEnvironmentConfigurationChanged.clear();\r\n        this.onPostProcessingChanged.clear();\r\n        this.onModelChanged.clear();\r\n        this.onModelError.clear();\r\n        this.onCameraAutoOrbitChanged.clear();\r\n        this.onSelectedAnimationChanged.clear();\r\n        this.onAnimationSpeedChanged.clear();\r\n        this.onIsAnimationPlayingChanged.clear();\r\n        this.onAnimationProgressChanged.clear();\r\n        this.onSelectedMaterialVariantChanged.clear();\r\n        this.onHotSpotsChanged.clear();\r\n        this.onCamerasAsHotSpotsChanged.clear();\r\n        this.onLoadingProgressChanged.clear();\r\n\r\n        this._imageProcessingConfigurationObserver.remove();\r\n        this._beforeRenderObserver.remove();\r\n\r\n        this._isDisposed = true;\r\n    }\r\n\r\n    /**\r\n     * Return world and canvas coordinates of an hot spot\r\n     * @param query mesh index and surface information to query the hot spot positions\r\n     * @param result Query a Hot Spot and does the conversion for Babylon Hot spot to a more generic HotSpotPositions, without Vector types\r\n     * @returns true if hotspot found\r\n     */\r\n    public getHotSpotToRef(query: Readonly<ViewerHotSpotQuery>, result: ViewerHotSpotResult): boolean {\r\n        return this._activeModel?.getHotSpotToRef(query, result) ?? false;\r\n    }\r\n\r\n    protected _getHotSpotToRef(assetContainer: Nullable<AssetContainer>, query: Readonly<ViewerHotSpotQuery>, result: ViewerHotSpotResult): boolean {\r\n        const worldNormal = this._tempVectors[2];\r\n        const worldPos = this._tempVectors[1];\r\n        const screenPos = this._tempVectors[0];\r\n\r\n        if (query.type === \"surface\") {\r\n            const mesh = assetContainer?.meshes[query.meshIndex];\r\n            if (!mesh) {\r\n                return false;\r\n            }\r\n\r\n            if (!GetHotSpotToRef(mesh, query, worldPos, worldNormal)) {\r\n                return false;\r\n            }\r\n        } else {\r\n            worldPos.copyFromFloats(query.position[0], query.position[1], query.position[2]);\r\n            worldNormal.copyFromFloats(query.normal[0], query.normal[1], query.normal[2]);\r\n        }\r\n\r\n        const viewportWidth = this._camera.viewport.width * this._engine.getRenderWidth() * this._engine.getHardwareScalingLevel();\r\n        const viewportHeight = this._camera.viewport.height * this._engine.getRenderHeight() * this._engine.getHardwareScalingLevel();\r\n        const scene = this._scene;\r\n\r\n        Vector3.ProjectToRef(worldPos, Matrix.IdentityReadOnly, scene.getTransformMatrix(), new Viewport(0, 0, viewportWidth, viewportHeight), screenPos);\r\n        result.screenPosition[0] = screenPos.x;\r\n        result.screenPosition[1] = screenPos.y;\r\n        result.worldPosition[0] = worldPos.x;\r\n        result.worldPosition[1] = worldPos.y;\r\n        result.worldPosition[2] = worldPos.z;\r\n\r\n        // visibility\r\n        const eyeToSurface = this._tempVectors[3];\r\n        eyeToSurface.copyFrom(this._camera.globalPosition);\r\n        eyeToSurface.subtractInPlace(worldPos);\r\n        eyeToSurface.normalize();\r\n        result.visibility = Vector3.Dot(eyeToSurface, worldNormal);\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Get hotspot world and screen values from a named hotspot\r\n     * @param name slot of the hot spot\r\n     * @param result resulting world and screen positions\r\n     * @returns world position, world normal and screen space coordinates\r\n     */\r\n    public queryHotSpot(name: string, result: ViewerHotSpotResult): boolean {\r\n        return this._queryHotSpot(name, result) != null;\r\n    }\r\n\r\n    /**\r\n     * Updates the camera to focus on a named hotspot.\r\n     * @param name The name of the hotspot to focus on.\r\n     * @returns true if the hotspot was found and the camera was updated, false otherwise.\r\n     */\r\n    public focusHotSpot(name: string): boolean {\r\n        const result = new ViewerHotSpotResult();\r\n        const query = this._queryHotSpot(name, result);\r\n        if (query) {\r\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n            this.pauseAnimation();\r\n            const cameraOrbit = query.cameraOrbit ?? [undefined, undefined, undefined];\r\n            this._camera.interpolateTo(cameraOrbit[0], cameraOrbit[1], cameraOrbit[2], new Vector3(result.worldPosition[0], result.worldPosition[1], result.worldPosition[2]));\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private _queryHotSpot(name: string, result: ViewerHotSpotResult): Nullable<HotSpot> {\r\n        const hotSpot = this.hotSpots?.[name];\r\n        if (hotSpot) {\r\n            if (this.getHotSpotToRef(hotSpot, result)) {\r\n                return hotSpot;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private async _addCameraHotSpot(camera: Camera, signal?: AbortSignal) {\r\n        if (camera !== this._camera) {\r\n            const hotSpot = await this._createHotSpotFromCamera(camera);\r\n            if (hotSpot && !signal?.aborted) {\r\n                this.hotSpots = {\r\n                    ...this.hotSpots,\r\n                    [`camera-${camera.name}`]: hotSpot,\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    private _removeCameraHotSpot(camera: Camera) {\r\n        delete this.hotSpots[`camera-${camera.name}`];\r\n        this.hotSpots = { ...this.hotSpots };\r\n    }\r\n\r\n    private _toggleCamerasAsHotSpots() {\r\n        if (!this.camerasAsHotSpots) {\r\n            this._camerasAsHotSpotsAbortController?.abort();\r\n            this._camerasAsHotSpotsAbortController = null;\r\n            this._scene.cameras.forEach((camera) => this._removeCameraHotSpot(camera));\r\n        } else {\r\n            const abortController = (this._camerasAsHotSpotsAbortController = new AbortController());\r\n            this._scene.cameras.forEach(async (camera) => await this._addCameraHotSpot(camera, abortController.signal));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Creates a world HotSpot from a camera.\r\n     * @param camera The camera to create a HotSpot from.\r\n     * @returns A HotSpot created from the camera.\r\n     */\r\n    private async _createHotSpotFromCamera(camera: Camera): Promise<Nullable<HotSpot>> {\r\n        if (camera instanceof ArcRotateCamera) {\r\n            const targetArray = camera.target.asArray();\r\n            return { type: \"world\", position: targetArray, normal: targetArray, cameraOrbit: [camera.alpha, camera.beta, camera.radius] };\r\n        }\r\n\r\n        if (this._activeModel) {\r\n            return await CreateHotSpotFromCamera(this._activeModel, camera);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    protected get _shouldRender() {\r\n        // We should render if:\r\n        // 1. Auto suspend rendering is disabled.\r\n        // 2. The scene has been mutated.\r\n        // 3. The snapshot helper is not yet in a ready state.\r\n        // 4. The classic shadows are not yet in a ready state.\r\n        // 5. The environment shadows are not yet in a ready state.\r\n        // 6. At least one model should render (playing animations).\r\n        return (\r\n            !this._autoSuspendRendering ||\r\n            this._sceneMutated ||\r\n            !this._snapshotHelper.isReady ||\r\n            this._shadowState.normal?.shouldRender ||\r\n            this._shadowState.high?.shouldRender ||\r\n            this._loadedModelsBacking.some((model) => model._shouldRender())\r\n        );\r\n    }\r\n\r\n    protected _markSceneMutated() {\r\n        this._sceneMutated = true;\r\n    }\r\n\r\n    protected _suspendRendering(): IDisposable {\r\n        this._renderLoopController?.dispose();\r\n        this._suspendRenderCount++;\r\n        let disposed = false;\r\n        return {\r\n            dispose: () => {\r\n                if (!disposed) {\r\n                    disposed = true;\r\n                    this._suspendRenderCount--;\r\n                    if (this._suspendRenderCount === 0) {\r\n                        this._beginRendering();\r\n                    }\r\n                }\r\n            },\r\n        };\r\n    }\r\n\r\n    private _beginRendering(): void {\r\n        if (!this._renderLoopController) {\r\n            let renderedReadyFrame = false;\r\n\r\n            const onRenderingResumed = () => {\r\n                this._log(\"Viewer Resumed Rendering\");\r\n                // Resume rendering with the hardware scaling level from prior to suspending.\r\n                this._engine.setHardwareScalingLevel(this._lastHardwareScalingLevel);\r\n                this._engine.performanceMonitor.enable();\r\n                this._snapshotHelper.enableSnapshotRendering();\r\n                this._startSceneOptimizer();\r\n            };\r\n\r\n            const onRenderingSuspended = () => {\r\n                this._log(\"Viewer Suspended Rendering\");\r\n                this._renderedLastFrame = false;\r\n                renderedReadyFrame = false;\r\n                // Take note of the current hardware scaling level for when rendering is resumed.\r\n                this._lastHardwareScalingLevel = this._engine.getHardwareScalingLevel();\r\n                this._stopSceneOptimizer();\r\n                this._snapshotHelper.disableSnapshotRendering();\r\n                // We want a high quality render right before suspending, so set the hardware scaling level back to the default,\r\n                // disable the performance monitor (so the SceneOptimizer doesn't take into account this potentially slower frame),\r\n                // and then render the scene once.\r\n                this._engine.performanceMonitor.disable();\r\n                this._engine.setHardwareScalingLevel(this._defaultHardwareScalingLevel);\r\n                this._engine.beginFrame();\r\n                this._scene.render();\r\n                this._engine.endFrame();\r\n            };\r\n\r\n            const render = () => {\r\n                // First check if we have indicators that we should render.\r\n                let shouldRender = this._shouldRender;\r\n\r\n                // If we don't have indicators that we should render (e.g. nothing has changed since the last frame),\r\n                // we still need to ensure that we render at least one frame after any mutations. Scene.isReady does\r\n                // a bunch of the same work that happens when we actually render a frame, so we don't want to check\r\n                // this unless we know we are in a state where there were mutations and now we are waiting for a frame\r\n                // to render after the scene is ready.\r\n                if (!shouldRender && this._renderedLastFrame && !renderedReadyFrame) {\r\n                    renderedReadyFrame = this._scene.isReady(true);\r\n                    shouldRender = true;\r\n                }\r\n\r\n                if (shouldRender) {\r\n                    if (!this._renderedLastFrame) {\r\n                        if (this._renderedLastFrame !== null) {\r\n                            onRenderingResumed();\r\n                        }\r\n                        this._renderedLastFrame = true;\r\n                    }\r\n\r\n                    this._sceneMutated = false;\r\n                    this._scene.render();\r\n\r\n                    // Update the camera panning sensitivity related properties based on the camera's distance from the target.\r\n                    this._camera.panningSensibility = 5000 / this._camera.radius;\r\n                    this._camera.speed = this._camera.radius * 0.2;\r\n\r\n                    if (this.isAnimationPlaying) {\r\n                        this.onAnimationProgressChanged.notifyObservers();\r\n                        this._autoRotationBehavior.resetLastInteractionTime();\r\n                    }\r\n                } else {\r\n                    this._camera.update();\r\n\r\n                    if (this._renderedLastFrame) {\r\n                        onRenderingSuspended();\r\n                    }\r\n                }\r\n            };\r\n\r\n            this._engine.runRenderLoop(render);\r\n\r\n            let disposed = false;\r\n            this._renderLoopController = {\r\n                dispose: () => {\r\n                    if (!disposed) {\r\n                        disposed = true;\r\n                        this._engine.stopRenderLoop(render);\r\n                        this._renderLoopController = null;\r\n\r\n                        if (this._renderedLastFrame) {\r\n                            onRenderingSuspended();\r\n                        }\r\n                    }\r\n                },\r\n            };\r\n        }\r\n    }\r\n\r\n    protected _reframeCamera(interpolate: boolean = false, models: readonly Model[] = this._loadedModelsBacking): void {\r\n        this._reframeCameraFromBounds(interpolate, models);\r\n    }\r\n\r\n    // For rotation/radius/target, undefined means default framing, NaN means keep current value.\r\n    private _reframeCameraFromBounds(\r\n        interpolate: boolean,\r\n        models: readonly Model[],\r\n        alpha?: number,\r\n        beta?: number,\r\n        radius?: number,\r\n        targetX?: number,\r\n        targetY?: number,\r\n        targetZ?: number\r\n    ): void {\r\n        let goalAlpha = Math.PI / 2;\r\n        let goalBeta = Math.PI / 2.4;\r\n        let goalRadius = 1;\r\n        let goalTarget = Vector3.Zero();\r\n\r\n        const worldBounds = computeModelsBoundingInfos(models);\r\n        if (worldBounds) {\r\n            // get bounds and prepare framing/camera radius from its values\r\n            this._camera.lowerRadiusLimit = null;\r\n\r\n            goalRadius = Vector3.FromArray(worldBounds.size).length() * 1.1;\r\n            goalTarget = Vector3.FromArray(worldBounds.center);\r\n            if (!isFinite(goalRadius)) {\r\n                goalRadius = 1;\r\n                goalTarget.copyFromFloats(0, 0, 0);\r\n            }\r\n        }\r\n\r\n        this._camera.lowerRadiusLimit = goalRadius * 0.001;\r\n        this._camera.upperRadiusLimit = goalRadius * 5;\r\n        this._camera.minZ = goalRadius * 0.001;\r\n        this._camera.maxZ = goalRadius * 1000;\r\n\r\n        goalAlpha = alpha ?? goalAlpha;\r\n        goalBeta = beta ?? goalBeta;\r\n        goalRadius = radius ?? goalRadius;\r\n        goalTarget.x = targetX ?? goalTarget.x;\r\n        goalTarget.y = targetY ?? goalTarget.y;\r\n        goalTarget.z = targetZ ?? goalTarget.z;\r\n\r\n        if (interpolate) {\r\n            this._camera.interpolateTo(goalAlpha, goalBeta, goalRadius, goalTarget, undefined, 0.1);\r\n        } else {\r\n            this._camera.stopInterpolation();\r\n\r\n            if (!isNaN(goalAlpha)) {\r\n                this._camera.alpha = goalAlpha;\r\n            }\r\n            if (!isNaN(goalBeta)) {\r\n                this._camera.beta = goalBeta;\r\n            }\r\n            if (!isNaN(goalRadius)) {\r\n                this._camera.radius = goalRadius;\r\n            }\r\n            this._camera.setTarget(\r\n                new Vector3(\r\n                    isNaN(goalTarget.x) ? this._camera.target.x : goalTarget.x,\r\n                    isNaN(goalTarget.y) ? this._camera.target.y : goalTarget.y,\r\n                    isNaN(goalTarget.z) ? this._camera.target.z : goalTarget.z\r\n                ),\r\n                undefined,\r\n                undefined,\r\n                true\r\n            );\r\n        }\r\n\r\n        this._camera.wheelDeltaPercentage = 0.01;\r\n        this._camera.useNaturalPinchZoom = true;\r\n\r\n        updateSkybox(this._skybox, this._camera);\r\n    }\r\n\r\n    private _updateLight() {\r\n        let shouldHaveDefaultLight: boolean;\r\n        if (!this._activeModel) {\r\n            shouldHaveDefaultLight = false;\r\n        } else {\r\n            const hasModelProvidedLights = this._activeModel.assetContainer.lights.length > 0;\r\n            const hasImageBasedLighting = !!this._reflectionTexture;\r\n            const hasMaterials = this._activeModel.assetContainer.materials.length > 0;\r\n            const hasNonPBRMaterials = this._activeModel.assetContainer.materials.some((material) => !(material instanceof PBRMaterial));\r\n\r\n            if (hasModelProvidedLights) {\r\n                shouldHaveDefaultLight = false;\r\n            } else {\r\n                shouldHaveDefaultLight = !hasImageBasedLighting || !hasMaterials || hasNonPBRMaterials;\r\n            }\r\n        }\r\n\r\n        if (shouldHaveDefaultLight) {\r\n            if (!this._light) {\r\n                this._light = new HemisphericLight(\"defaultLight\", Vector3.Up(), this._scene);\r\n            }\r\n        } else {\r\n            this._light?.dispose();\r\n            this._light = null;\r\n        }\r\n    }\r\n\r\n    private _applyAnimationSpeed() {\r\n        this._activeModel?.assetContainer.animationGroups.forEach((group) => (group.speedRatio = this._animationSpeed));\r\n    }\r\n\r\n    protected async _pick(screenX: number, screenY: number): Promise<Nullable<PickingInfo>> {\r\n        await import(\"core/Culling/ray\");\r\n        if (this._loadedModels.length > 0) {\r\n            const meshes = this._loadedModelsBacking.flatMap((model) => model.assetContainer.meshes);\r\n            // Refresh bounding info to ensure morph target and skeletal animations are taken into account.\r\n            meshes.forEach((mesh) => {\r\n                let cache = this._meshDataCache.get(mesh);\r\n                if (!cache) {\r\n                    cache = {};\r\n                    this._meshDataCache.set(mesh, cache);\r\n                }\r\n                mesh.refreshBoundingInfo({ applyMorph: true, applySkeleton: true, cache });\r\n            });\r\n\r\n            const pickingInfo = this._scene.pick(screenX, screenY, (mesh) => meshes.includes(mesh));\r\n            if (pickingInfo.hit) {\r\n                return pickingInfo;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    protected _startSceneOptimizer(reset = false) {\r\n        this._stopSceneOptimizer();\r\n\r\n        if (reset) {\r\n            this._engine.setHardwareScalingLevel(this._defaultHardwareScalingLevel);\r\n        }\r\n\r\n        const sceneOptimizerOptions = new SceneOptimizerOptions(60, 1000);\r\n        const hardwareScalingOptimization = new HardwareScalingOptimization(undefined, 1);\r\n        sceneOptimizerOptions.addOptimization(hardwareScalingOptimization);\r\n        this._sceneOptimizer = new SceneOptimizer(this._scene, sceneOptimizerOptions);\r\n\r\n        this._sceneOptimizer.start();\r\n    }\r\n\r\n    protected _stopSceneOptimizer() {\r\n        this._sceneOptimizer?.dispose();\r\n        this._sceneOptimizer = null;\r\n    }\r\n\r\n    protected _log(message: string) {\r\n        if (this.showDebugLogs) {\r\n            Logger.Log(message);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check for disposed or aborted state (basically everything that can interrupt an async operation).\r\n     * @param abortSignals A set of optional AbortSignals to also check.\r\n     */\r\n    private _throwIfDisposedOrAborted(...abortSignals: (Nullable<AbortSignal> | undefined)[]): void {\r\n        if (this._isDisposed) {\r\n            throw new Error(\"Viewer is disposed.\");\r\n        }\r\n\r\n        throwIfAborted(...abortSignals);\r\n    }\r\n}\r\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,css,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:h,getOwnPropertyNames:r,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),b={attribute:!0,type:String,converter:u,reflect:!1,useDefault:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class y extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=b){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),h=this.getPropertyDescriptor(t,i,s);void 0!==h&&e(this.prototype,t,h)}}static getPropertyDescriptor(t,s,i){const{get:e,set:r}=h(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get:e,set(s){const h=e?.call(this);r?.call(this,s),this.requestUpdate(t,h,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...r(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$ET(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const h=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==h?this.removeAttribute(e):this.setAttribute(e,h),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e,this[e]=h.fromAttribute(s,t.type)??this._$Ej?.get(e)??null,this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){const e=this.constructor,h=this[t];if(i??=e.getPropertyOptions(t),!((i.hasChanged??f)(h,s)||i.useDefault&&i.reflect&&h===this._$Ej?.get(t)&&!this.hasAttribute(e._$Eu(t,i))))return;this.C(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,s,{useDefault:i,reflect:e,wrapped:h},r){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??s??this[t]),!0!==h||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||i||(s=void 0),this._$AL.set(t,s)),!0===e&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t){const{wrapped:t}=i,e=this[s];!0!==t||this._$AL.has(s)||void 0===e||this.C(s,void 0,i,e)}}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}}y.elementStyles=[],y.shadowRootOptions={mode:\"open\"},y[d(\"elementProperties\")]=new Map,y[d(\"finalized\")]=new Map,p?.({ReactiveElement:y}),(a.reactiveElementVersions??=[]).push(\"2.1.0\");export{y as ReactiveElement,s as adoptStyles,u as defaultConverter,t as getCompatibleStyle,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.3.0\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as r}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=globalThis;class i extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return r}}i._$litElement$=!0,i[\"finalized\"]=!0,s.litElementHydrateSupport?.({LitElement:i});const o=s.litElementPolyfillSupport;o?.({LitElement:i});const n={_$AK:(t,e,r)=>{t._$AK(e,r)},_$AL:t=>t._$AL};(s.litElementVersions??=[]).push(\"4.2.0\");export{i as LitElement,n as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=t=>(e,o)=>{void 0!==o?o.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)};export{t as customElement};\n//# sourceMappingURL=custom-element.js.map\n","import{defaultConverter as t,notEqual as e}from\"../reactive-element.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o={attribute:!0,type:String,converter:t,reflect:!1,hasChanged:e},r=(t=o,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),\"setter\"===n&&((t=Object.create(t)).wrapped=!0),s.set(r.name,t),\"accessor\"===n){const{name:o}=r;return{set(r){const n=e.get.call(this);e.set.call(this,r),this.requestUpdate(o,n,t)},init(e){return void 0!==e&&this.C(o,void 0,t,e),e}}}if(\"setter\"===n){const{name:o}=r;return function(r){const n=this[o];e.call(this,r),this.requestUpdate(o,n,t)}}throw Error(\"Unsupported decorator location: \"+n)};function n(t){return(e,o)=>\"object\"==typeof o?r(t,e,o):((t,e,o)=>{const r=e.hasOwnProperty(o);return e.constructor.createProperty(o,t),r?Object.getOwnPropertyDescriptor(e,o):void 0})(t,e,o)}export{n as property,r as standardProperty};\n//# sourceMappingURL=property.js.map\n","import{property as t}from\"./property.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function r(r){return t({...r,state:!0,attribute:!1})}export{r as state};\n//# sourceMappingURL=state.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst e=(e,t,c)=>(c.configurable=!0,c.enumerable=!0,Reflect.decorate&&\"object\"!=typeof t&&Object.defineProperty(e,t,c),c);export{e as desc};\n//# sourceMappingURL=base.js.map\n","import{desc as t}from\"./base.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function e(e,r){return(n,s,i)=>{const o=t=>t.renderRoot?.querySelector(e)??null;if(r){const{get:e,set:r}=\"object\"==typeof s?n:i??(()=>{const t=Symbol();return{get(){return this[t]},set(e){this[t]=e}}})();return t(n,s,{get(){let t=e.call(this);return void 0===t&&(t=o(this),(null!==t||this.hasUpdated)&&r.call(this,t)),t}})}return t(n,s,{get(){return o(this)}})}}export{e as query};\n//# sourceMappingURL=query.js.map\n","import{_$LH as o}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{I:t}=o,i=o=>null===o||\"object\"!=typeof o&&\"function\"!=typeof o,n={HTML:1,SVG:2,MATHML:3},e=(o,t)=>void 0===t?void 0!==o?._$litType$:o?._$litType$===t,l=o=>null!=o?._$litType$?.h,c=o=>void 0!==o?._$litDirective$,d=o=>o?._$litDirective$,f=o=>void 0===o.strings,s=()=>document.createComment(\"\"),r=(o,i,n)=>{const e=o._$AA.parentNode,l=void 0===i?o._$AB:i._$AA;if(void 0===n){const i=e.insertBefore(s(),l),c=e.insertBefore(s(),l);n=new t(i,c,o,o.options)}else{const t=n._$AB.nextSibling,i=n._$AM,c=i!==o;if(c){let t;n._$AQ?.(o),n._$AM=o,void 0!==n._$AP&&(t=o._$AU)!==i._$AU&&n._$AP(t)}if(t!==l||c){let o=n._$AA;for(;o!==t;){const t=o.nextSibling;e.insertBefore(o,l),o=t}}}return n},v=(o,t,i=o)=>(o._$AI(t,i),o),u={},m=(o,t=u)=>o._$AH=t,p=o=>o._$AH,M=o=>{o._$AP?.(!1,!0);let t=o._$AA;const i=o._$AB.nextSibling;for(;t!==i;){const o=t.nextSibling;t.remove(),t=o}},h=o=>{o._$AR()};export{n as TemplateResultType,h as clearPart,p as getCommittedValue,d as getDirectiveClass,r as insertPart,l as isCompiledTemplateResult,c as isDirectiveResult,i as isPrimitive,f as isSingleExpression,e as isTemplateResult,M as removePart,v as setChildPartValue,m as setCommittedValue};\n//# sourceMappingURL=directive-helpers.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{isSingleExpression as i}from\"./directive-helpers.js\";import{Directive as t,PartType as e}from\"./directive.js\";export{directive}from\"./directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=(i,t)=>{const e=i._$AN;if(void 0===e)return!1;for(const i of e)i._$AO?.(t,!1),s(i,t);return!0},o=i=>{let t,e;do{if(void 0===(t=i._$AM))break;e=t._$AN,e.delete(i),i=t}while(0===e?.size)},r=i=>{for(let t;t=i._$AM;i=t){let e=t._$AN;if(void 0===e)t._$AN=e=new Set;else if(e.has(i))break;e.add(i),c(t)}};function h(i){void 0!==this._$AN?(o(this),this._$AM=i,r(this)):this._$AM=i}function n(i,t=!1,e=0){const r=this._$AH,h=this._$AN;if(void 0!==h&&0!==h.size)if(t)if(Array.isArray(r))for(let i=e;i<r.length;i++)s(r[i],!1),o(r[i]);else null!=r&&(s(r,!1),o(r));else s(this,i)}const c=i=>{i.type==e.CHILD&&(i._$AP??=n,i._$AQ??=h)};class f extends t{constructor(){super(...arguments),this._$AN=void 0}_$AT(i,t,e){super._$AT(i,t,e),r(this),this.isConnected=i._$AU}_$AO(i,t=!0){i!==this.isConnected&&(this.isConnected=i,i?this.reconnected?.():this.disconnected?.()),t&&(s(this,i),o(this))}setValue(t){if(i(this._$Ct))this._$Ct._$AI(t,this);else{const i=[...this._$Ct._$AH];i[this._$Ci]=t,this._$Ct._$AI(i,this,0)}}disconnected(){}reconnected(){}}export{f as AsyncDirective,t as Directive,e as PartType};\n//# sourceMappingURL=async-directive.js.map\n","import{nothing as t}from\"../lit-html.js\";import{AsyncDirective as i}from\"../async-directive.js\";import{directive as s}from\"../directive.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const e=()=>new h;class h{}const o=new WeakMap,n=s(class extends i{render(i){return t}update(i,[s]){const e=s!==this.G;return e&&void 0!==this.G&&this.rt(void 0),(e||this.lt!==this.ct)&&(this.G=s,this.ht=i.options?.host,this.rt(this.ct=i.element)),t}rt(t){if(this.isConnected||(t=void 0),\"function\"==typeof this.G){const i=this.ht??globalThis;let s=o.get(i);void 0===s&&(s=new WeakMap,o.set(i,s)),void 0!==s.get(this.G)&&this.G.call(this.ht,void 0),s.set(this.G,t),void 0!==t&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return\"function\"==typeof this.G?o.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});export{e as createRef,n as ref};\n//# sourceMappingURL=ref.js.map\n","import type { AbstractEngine, AbstractEngineOptions, EngineOptions, IDisposable, Nullable, WebGPUEngineOptions } from \"core/index\";\r\nimport type { ViewerDetails, ViewerOptions } from \"./viewer\";\r\n\r\nimport { Deferred } from \"core/Misc/deferred\";\r\nimport { Viewer } from \"./viewer\";\r\n\r\n/**\r\n * Options for creating a Viewer instance that is bound to an HTML canvas.\r\n */\r\nexport type CanvasViewerOptions = ViewerOptions & { onFaulted?: (error: Error) => void } & (\r\n        | ({ engine?: undefined } & AbstractEngineOptions)\r\n        | ({ engine: \"WebGL\" } & EngineOptions)\r\n        | ({ engine: \"WebGPU\" } & WebGPUEngineOptions)\r\n    );\r\n\r\nconst DefaultCanvasViewerOptions = {\r\n    antialias: true,\r\n    adaptToDeviceRatio: true,\r\n    enableAllFeatures: true,\r\n    setMaximumLimits: true,\r\n} as const satisfies CanvasViewerOptions;\r\n\r\n/**\r\n * Chooses a default engine for the current browser environment.\r\n * @returns The default engine to use.\r\n */\r\nexport function GetDefaultEngine(): NonNullable<CanvasViewerOptions[\"engine\"]> {\r\n    // First check for WebGPU support.\r\n    if (\"gpu\" in navigator) {\r\n        // For now, only use WebGPU with chromium-based browsers.\r\n        // WebGPU can be enabled in other browsers once they are fully functional and the performance is at least as good as WebGL.\r\n        if (\"chrome\" in window) {\r\n            return \"WebGPU\";\r\n        }\r\n    }\r\n\r\n    return \"WebGL\";\r\n}\r\n\r\n/**\r\n * @experimental\r\n * Creates a Viewer instance that is bound to an HTML canvas.\r\n * @remarks\r\n * This function can be shared across multiple UI integrations (e.g. Web Components, React, etc.).\r\n * @param canvas The canvas element to bind the Viewer to.\r\n * @param options The options to use when creating the Viewer and binding it to the specified canvas.\r\n * @returns A Viewer instance that is bound to the specified canvas.\r\n */\r\nexport function CreateViewerForCanvas<DerivedViewer extends Viewer>(\r\n    canvas: HTMLCanvasElement,\r\n    options: Readonly<\r\n        CanvasViewerOptions & {\r\n            /**\r\n             * The Viewer subclass to use when creating the Viewer instance.\r\n             */\r\n            viewerClass: new (...args: ConstructorParameters<typeof Viewer>) => DerivedViewer;\r\n        }\r\n    >\r\n): Promise<DerivedViewer>;\r\nexport function CreateViewerForCanvas(canvas: HTMLCanvasElement, options?: CanvasViewerOptions): Promise<Viewer>;\r\n\r\n/**\r\n * @internal\r\n */\r\nexport async function CreateViewerForCanvas(\r\n    canvas: HTMLCanvasElement,\r\n    options: Readonly<CanvasViewerOptions & { viewerClass?: new (...args: ConstructorParameters<typeof Viewer>) => Viewer }> = {}\r\n): Promise<Viewer> {\r\n    const detailsDeferred = new Deferred<Readonly<ViewerDetails>>();\r\n\r\n    options = new Proxy(options as CanvasViewerOptions & EngineOptions & WebGPUEngineOptions, {\r\n        get(target, prop: keyof (CanvasViewerOptions & EngineOptions & WebGPUEngineOptions)) {\r\n            switch (prop) {\r\n                case \"antialias\":\r\n                    return target.antialias ?? DefaultCanvasViewerOptions.antialias;\r\n                case \"adaptToDeviceRatio\":\r\n                    return target.adaptToDeviceRatio ?? DefaultCanvasViewerOptions.adaptToDeviceRatio;\r\n                case \"enableAllFeatures\":\r\n                    return target.enableAllFeatures ?? DefaultCanvasViewerOptions.enableAllFeatures;\r\n                case \"setMaximumLimits\":\r\n                    return target.setMaximumLimits ?? DefaultCanvasViewerOptions.setMaximumLimits;\r\n                case \"onInitialized\":\r\n                    return (details: ViewerDetails) => {\r\n                        target.onInitialized?.(details);\r\n                        detailsDeferred.resolve(details);\r\n                    };\r\n                default:\r\n                    return target[prop];\r\n            }\r\n        },\r\n    });\r\n\r\n    const disposeActions: (() => void)[] = [];\r\n\r\n    // Create an engine instance.\r\n    let engine: AbstractEngine;\r\n    switch (options.engine ?? GetDefaultEngine()) {\r\n        case \"WebGL\": {\r\n            // eslint-disable-next-line @typescript-eslint/naming-convention, no-case-declarations\r\n            const { Engine } = await import(\"core/Engines/engine\");\r\n            engine = new Engine(canvas, undefined, options);\r\n            break;\r\n        }\r\n        case \"WebGPU\": {\r\n            // eslint-disable-next-line @typescript-eslint/naming-convention, no-case-declarations\r\n            const { WebGPUEngine } = await import(\"core/Engines/webgpuEngine\");\r\n            const webGPUEngine = new WebGPUEngine(canvas, options);\r\n            await webGPUEngine.initAsync();\r\n            engine = webGPUEngine;\r\n            break;\r\n        }\r\n    }\r\n\r\n    if (options.onFaulted) {\r\n        const onFaulted = options.onFaulted;\r\n        const contextLostObserver = engine.onContextLostObservable.addOnce(() => {\r\n            onFaulted(new Error(\"The engine context was lost.\"));\r\n        });\r\n        disposeActions.push(() => contextLostObserver.remove());\r\n    }\r\n\r\n    // Instantiate the Viewer with the engine and options.\r\n    const viewerClass = options?.viewerClass ?? Viewer;\r\n    const viewer = new viewerClass(engine, options);\r\n\r\n    {\r\n        const details = await detailsDeferred.promise;\r\n        // If the canvas is resized, note that the engine needs a resize, but don't resize it here as it will result in flickering.\r\n        let needsResize = false;\r\n        const resizeObserver = new ResizeObserver(() => {\r\n            needsResize = true;\r\n            details.markSceneMutated();\r\n        });\r\n        resizeObserver.observe(canvas);\r\n        disposeActions.push(() => resizeObserver.disconnect());\r\n\r\n        // Resize if needed right before rendering the Viewer scene to avoid any flickering.\r\n        const beforeRenderObserver = details.scene.onBeforeRenderObservable.add(() => {\r\n            if (needsResize) {\r\n                engine.resize();\r\n                needsResize = false;\r\n            }\r\n        });\r\n        disposeActions.push(() => beforeRenderObserver.remove());\r\n\r\n        // If the canvas is not visible, suspend rendering.\r\n        let offscreenRenderingSuspension: Nullable<IDisposable> = null;\r\n        const intersectionObserver = new IntersectionObserver((entries) => {\r\n            if (entries.length > 0) {\r\n                if (entries[entries.length - 1].isIntersecting) {\r\n                    offscreenRenderingSuspension?.dispose();\r\n                    offscreenRenderingSuspension = null;\r\n                } else {\r\n                    offscreenRenderingSuspension = details.suspendRendering();\r\n                }\r\n            }\r\n        });\r\n        intersectionObserver.observe(canvas);\r\n        disposeActions.push(() => intersectionObserver.disconnect());\r\n    }\r\n\r\n    disposeActions.push(viewer.dispose.bind(viewer));\r\n\r\n    disposeActions.push(() => engine.dispose());\r\n\r\n    // Override the Viewer's dispose method to add in additional cleanup.\r\n    viewer.dispose = () => disposeActions.forEach((dispose) => dispose());\r\n\r\n    return viewer;\r\n}\r\n","/* eslint-disable @typescript-eslint/no-floating-promises */\r\n/* eslint-disable @typescript-eslint/naming-convention */\r\nimport type { Nullable, Observable } from \"core/index\";\r\nimport type { CSSResultGroup, PropertyValues, TemplateResult } from \"lit\";\r\nimport type { CameraOrbit, EnvironmentOptions, HotSpot, ResetFlag, ShadowQuality, ToneMapping, ViewerDetails, ViewerHotSpotResult } from \"./viewer\";\r\nimport type { CanvasViewerOptions } from \"./viewerFactory\";\r\n\r\nimport { LitElement, css, html } from \"lit\";\r\nimport { customElement, property, query, state } from \"lit/decorators.js\";\r\nimport { ref } from \"lit/directives/ref.js\";\r\n\r\nimport { Color4 } from \"core/Maths/math.color\";\r\nimport { AsyncLock } from \"core/Misc/asyncLock\";\r\nimport { Deferred } from \"core/Misc/deferred\";\r\nimport { AbortError } from \"core/Misc/error\";\r\nimport { Logger } from \"core/Misc/logger\";\r\nimport { IsShadowQuality, IsToneMapping, Viewer } from \"./viewer\";\r\nimport { CreateViewerForCanvas } from \"./viewerFactory\";\r\n\r\n// Icon SVG is pulled from https://iconcloud.design\r\nconst playFilledIcon =\r\n    \"M5 5.27368C5 3.56682 6.82609 2.48151 8.32538 3.2973L20.687 10.0235C22.2531 10.8756 22.2531 13.124 20.687 13.9762L8.32538 20.7024C6.82609 21.5181 5 20.4328 5 18.726V5.27368Z\";\r\nconst pauseFilledIcon =\r\n    \"M5.74609 3C4.7796 3 3.99609 3.7835 3.99609 4.75V19.25C3.99609 20.2165 4.7796 21 5.74609 21H9.24609C10.2126 21 10.9961 20.2165 10.9961 19.25V4.75C10.9961 3.7835 10.2126 3 9.24609 3H5.74609ZM14.7461 3C13.7796 3 12.9961 3.7835 12.9961 4.75V19.25C12.9961 20.2165 13.7796 21 14.7461 21H18.2461C19.2126 21 19.9961 20.2165 19.9961 19.25V4.75C19.9961 3.7835 19.2126 3 18.2461 3H14.7461Z\";\r\nconst arrowResetFilledIcon =\r\n    \"M7.20711 2.54289C7.59763 2.93342 7.59763 3.56658 7.20711 3.95711L5.41421 5.75H13.25C17.6683 5.75 21.25 9.33172 21.25 13.75C21.25 18.1683 17.6683 21.75 13.25 21.75C8.83172 21.75 5.25 18.1683 5.25 13.75C5.25 13.1977 5.69772 12.75 6.25 12.75C6.80228 12.75 7.25 13.1977 7.25 13.75C7.25 17.0637 9.93629 19.75 13.25 19.75C16.5637 19.75 19.25 17.0637 19.25 13.75C19.25 10.4363 16.5637 7.75 13.25 7.75H5.41421L7.20711 9.54289C7.59763 9.93342 7.59763 10.5666 7.20711 10.9571C6.81658 11.3476 6.18342 11.3476 5.79289 10.9571L2.29289 7.45711C1.90237 7.06658 1.90237 6.43342 2.29289 6.04289L5.79289 2.54289C6.18342 2.15237 6.81658 2.15237 7.20711 2.54289Z\";\r\nconst targetFilledIcon =\r\n    \"M12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14ZM6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12ZM12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4Z\";\r\nconst arrowClockwiseFilledIcon =\r\n    \"M5 12C5 8.13401 8.13401 5 12 5C13.32 5 14.5542 5.36484 15.608 6H15C14.4477 6 14 6.44772 14 7C14 7.55228 14.4477 8 15 8H18C18.5523 8 19 7.55228 19 7C19 6 19 5 19 4C19 3.44772 18.5523 3 18 3C17.4477 3 17 3.44772 17 4V4.51575C15.5702 3.5588 13.85 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 11.6199 20.9764 11.2448 20.9304 10.8763C20.8621 10.3282 20.3624 9.93935 19.8144 10.0077C19.2663 10.076 18.8775 10.5757 18.9458 11.1237C18.9815 11.4104 19 11.7028 19 12C19 15.866 15.866 19 12 19C8.13401 19 5 15.866 5 12Z\";\r\n\r\nconst allowedAnimationSpeeds = [0.5, 1, 1.5, 2] as const;\r\n\r\n// Converts any standard html color string to a Color4 object.\r\nfunction parseColor(color: string | null | undefined): Nullable<Color4> {\r\n    if (!color) {\r\n        return null;\r\n    }\r\n\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width = canvas.height = 1;\r\n    const context = canvas.getContext(\"2d\");\r\n\r\n    if (!context) {\r\n        throw new Error(\"Unable to get 2d context for parseColor\");\r\n    }\r\n\r\n    context.clearRect(0, 0, 1, 1);\r\n    context.fillStyle = color;\r\n    context.fillRect(0, 0, 1, 1);\r\n\r\n    const data = context.getImageData(0, 0, 1, 1).data;\r\n    return new Color4(data[0] / 255, data[1] / 255, data[2] / 255, data[3] / 255);\r\n}\r\n\r\ntype ResetMode = \"auto\" | \"reframe\" | [ResetFlag, ...flags: ResetFlag[]];\r\n\r\nfunction coerceEngineAttribute(value: string | null): ViewerElement[\"engine\"] {\r\n    if (value === \"WebGL\" || value === \"WebGPU\") {\r\n        return value;\r\n    }\r\n    return undefined;\r\n}\r\n\r\nfunction coerceNumericAttribute(value: string | null): Nullable<number> {\r\n    return value == null ? null : Number(value);\r\n}\r\n\r\nfunction coerceCameraOrbitOrTarget(value: string | null): Nullable<[number, number, number]> {\r\n    if (!value) {\r\n        return null;\r\n    }\r\n\r\n    const array = value.trim().split(/\\s+/);\r\n    if (array.length !== 3) {\r\n        throw new Error(`Camera orbit and target should be defined as three space separated numbers, but was specified as \"${value}\".`);\r\n    }\r\n\r\n    return array.map((value) => Number(value)) as CameraOrbit;\r\n}\r\n\r\nfunction coerceToneMapping(value: string | null): Nullable<ToneMapping> {\r\n    if (!value || !IsToneMapping(value)) {\r\n        return null;\r\n    }\r\n    return value;\r\n}\r\n\r\nfunction coerceShadowQuality(value: string | null): Nullable<ShadowQuality> {\r\n    if (!value || !IsShadowQuality(value)) {\r\n        return null;\r\n    }\r\n    return value;\r\n}\r\n\r\nfunction coerceResetMode(value: string | null): ResetMode {\r\n    if (!value || value === \"auto\") {\r\n        return \"auto\";\r\n    }\r\n\r\n    if (value === \"reframe\") {\r\n        return \"reframe\";\r\n    }\r\n\r\n    return value.trim().split(/\\s+/) as ResetMode;\r\n}\r\n\r\n// Custom events for the HTML3DElement.\r\nexport interface ViewerElementEventMap extends HTMLElementEventMap {\r\n    viewerready: Event;\r\n    viewerrender: Event;\r\n    environmentchange: Event;\r\n    environmentconfigurationchange: Event;\r\n    environmenterror: ErrorEvent;\r\n    shadowsconfigurationchange: Event;\r\n    modelchange: CustomEvent<Nullable<string | File | ArrayBufferView>>;\r\n    modelerror: ErrorEvent;\r\n    loadingprogresschange: Event;\r\n    selectedanimationchange: Event;\r\n    animationspeedchange: Event;\r\n    animationplayingchange: Event;\r\n    animationprogresschange: Event;\r\n    selectedmaterialvariantchange: Event;\r\n}\r\n\r\n// eslint-disable-next-line jsdoc/require-jsdoc\r\nexport interface ViewerElement {\r\n    addEventListener<K extends keyof ViewerElementEventMap>(\r\n        type: K,\r\n        listener: (this: HTMLElement, ev: ViewerElementEventMap[K]) => any,\r\n        options?: boolean | AddEventListenerOptions\r\n    ): void;\r\n\r\n    addEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void;\r\n\r\n    removeEventListener<K extends keyof ViewerElementEventMap>(\r\n        type: K,\r\n        listener: (this: HTMLElement, ev: ViewerElementEventMap[K]) => any,\r\n        options?: boolean | EventListenerOptions\r\n    ): void;\r\n\r\n    removeEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void;\r\n}\r\n\r\n/**\r\n * @experimental\r\n * Base class for the viewer custom element.\r\n */\r\nexport abstract class ViewerElement<ViewerClass extends Viewer = Viewer> extends LitElement {\r\n    private readonly _viewerLock = new AsyncLock();\r\n    private _animationSliderResizeObserver: Nullable<ResizeObserver> = null;\r\n    private _viewerDetails?: Readonly<ViewerDetails & { viewer: ViewerClass }>;\r\n\r\n    /**\r\n     * @experimental\r\n     * Creates an instance of a ViewerElement subclass.\r\n     * @param _viewerClass The Viewer subclass to use when creating the Viewer instance.\r\n     * @param _options The options to use when creating the Viewer and binding it to the specified canvas.\r\n     */\r\n    protected constructor(\r\n        private readonly _viewerClass: new (...args: ConstructorParameters<typeof Viewer>) => ViewerClass,\r\n        private readonly _options: CanvasViewerOptions = {}\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    // Bindings for properties that are synchronized both ways between the lower level Viewer and the HTML3DElement.\r\n    private readonly _propertyBindings = [\r\n        this._createPropertyBinding(\r\n            \"clearColor\",\r\n            (details) => details.scene.onClearColorChangedObservable,\r\n            (details) => (details.scene.clearColor = this.clearColor ?? new Color4(0, 0, 0, 0)),\r\n            (details) => (this.clearColor = details.scene.clearColor)\r\n        ),\r\n        this._createPropertyBinding(\r\n            \"skyboxBlur\",\r\n            (details) => details.viewer.onEnvironmentConfigurationChanged,\r\n            (details) => (details.viewer.environmentConfig = { blur: this.skyboxBlur ?? details.viewer.environmentConfig.blur }),\r\n            (details) => (this.skyboxBlur = details.viewer.environmentConfig.blur)\r\n        ),\r\n        this._createPropertyBinding(\r\n            \"environmentIntensity\",\r\n            (details) => details.viewer.onEnvironmentConfigurationChanged,\r\n            (details) => (details.viewer.environmentConfig = { intensity: this.environmentIntensity ?? details.viewer.environmentConfig.intensity }),\r\n            (details) => (this.environmentIntensity = details.viewer.environmentConfig.intensity)\r\n        ),\r\n        this._createPropertyBinding(\r\n            \"environmentRotation\",\r\n            (details) => details.viewer.onEnvironmentConfigurationChanged,\r\n            (details) => (details.viewer.environmentConfig = { rotation: this.environmentRotation ?? details.viewer.environmentConfig.rotation }),\r\n            (details) => (this.environmentRotation = details.viewer.environmentConfig.rotation)\r\n        ),\r\n        this._createPropertyBinding(\r\n            \"toneMapping\",\r\n            (details) => details.viewer.onPostProcessingChanged,\r\n            (details) => {\r\n                if (this.toneMapping) {\r\n                    details.viewer.postProcessing = { toneMapping: this.toneMapping };\r\n                }\r\n            },\r\n            (details) => (this.toneMapping = details.viewer.postProcessing?.toneMapping)\r\n        ),\r\n        this._createPropertyBinding(\r\n            \"contrast\",\r\n            (details) => details.viewer.onPostProcessingChanged,\r\n            (details) => (details.viewer.postProcessing = { contrast: this.contrast ?? undefined }),\r\n            (details) => (this.contrast = details.viewer.postProcessing.contrast)\r\n        ),\r\n        this._createPropertyBinding(\r\n            \"exposure\",\r\n            (details) => details.viewer.onPostProcessingChanged,\r\n            (details) => (details.viewer.postProcessing = { exposure: this.exposure ?? undefined }),\r\n            (details) => (this.exposure = details.viewer.postProcessing.exposure)\r\n        ),\r\n        this._createPropertyBinding(\r\n            \"cameraAutoOrbit\",\r\n            (details) => details.viewer.onCameraAutoOrbitChanged,\r\n            (details) => (details.viewer.cameraAutoOrbit = { enabled: this.cameraAutoOrbit }),\r\n            (details) => (this.cameraAutoOrbit = details.viewer.cameraAutoOrbit.enabled)\r\n        ),\r\n        this._createPropertyBinding(\r\n            \"cameraAutoOrbitSpeed\",\r\n            (details) => details.viewer.onCameraAutoOrbitChanged,\r\n            (details) => (details.viewer.cameraAutoOrbit = { speed: this.cameraAutoOrbitSpeed ?? undefined }),\r\n            (details) => (this.cameraAutoOrbitSpeed = details.viewer.cameraAutoOrbit.speed)\r\n        ),\r\n        this._createPropertyBinding(\r\n            \"cameraAutoOrbitDelay\",\r\n            (details) => details.viewer.onCameraAutoOrbitChanged,\r\n            (details) => (details.viewer.cameraAutoOrbit = { delay: this.cameraAutoOrbitDelay ?? undefined }),\r\n            (details) => (this.cameraAutoOrbitDelay = details.viewer.cameraAutoOrbit.delay)\r\n        ),\r\n        this._createPropertyBinding(\r\n            \"animationSpeed\",\r\n            (details) => details.viewer.onAnimationSpeedChanged,\r\n            (details) => (details.viewer.animationSpeed = this.animationSpeed),\r\n            (details) => {\r\n                let speed = details.viewer.animationSpeed;\r\n                speed = allowedAnimationSpeeds.reduce((prev, curr) => (Math.abs(curr - speed) < Math.abs(prev - speed) ? curr : prev));\r\n                this.animationSpeed = speed;\r\n                this._dispatchCustomEvent(\"animationspeedchange\", (type) => new Event(type));\r\n            }\r\n        ),\r\n        this._createPropertyBinding(\r\n            \"selectedAnimation\",\r\n            (details) => details.viewer.onSelectedAnimationChanged,\r\n            (details) => (details.viewer.selectedAnimation = this.selectedAnimation ?? details.viewer.selectedAnimation),\r\n            (details) => (this.selectedAnimation = details.viewer.selectedAnimation)\r\n        ),\r\n        this._createPropertyBinding(\r\n            \"selectedMaterialVariant\",\r\n            (details) => details.viewer.onSelectedMaterialVariantChanged,\r\n            (details) => (details.viewer.selectedMaterialVariant = this.selectedMaterialVariant ?? details.viewer.selectedMaterialVariant ?? \"\"),\r\n            (details) => (this.selectedMaterialVariant = details.viewer.selectedMaterialVariant)\r\n        ),\r\n        this._createPropertyBinding(\r\n            \"hotSpots\",\r\n            (details) => details.viewer.onHotSpotsChanged,\r\n            (details) => (details.viewer.hotSpots = this.hotSpots ?? details.viewer.hotSpots),\r\n            (details) => (this.hotSpots = details.viewer.hotSpots)\r\n        ),\r\n        this._createPropertyBinding(\r\n            \"camerasAsHotSpots\",\r\n            (details) => details.viewer.onCamerasAsHotSpotsChanged,\r\n            (details) => (details.viewer.camerasAsHotSpots = this.camerasAsHotSpots ?? details.viewer.camerasAsHotSpots),\r\n            (details) => (this.camerasAsHotSpots = details.viewer.camerasAsHotSpots)\r\n        ),\r\n    ] as const;\r\n\r\n    /** @internal */\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    public static override get observedAttributes(): string[] {\r\n        // These attributes don't have corresponding properties, so they are managed directly.\r\n        return [...super.observedAttributes, \"camera-orbit\", \"camera-target\"];\r\n    }\r\n\r\n    /** @internal */\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    public static override styles: CSSResultGroup = css`\r\n        :host {\r\n            --ui-foreground-color: white;\r\n            --ui-background-hue: 233;\r\n            --ui-background-saturation: 8%;\r\n            --ui-background-lightness: 39%;\r\n            --ui-background-opacity: 0.75;\r\n            --ui-background-color: hsla(var(--ui-background-hue), var(--ui-background-saturation), var(--ui-background-lightness), var(--ui-background-opacity));\r\n            --ui-background-color-hover: hsla(\r\n                var(--ui-background-hue),\r\n                var(--ui-background-saturation),\r\n                calc(var(--ui-background-lightness) - 10%),\r\n                calc(var(--ui-background-opacity) - 0.1)\r\n            );\r\n            all: inherit;\r\n            overflow: hidden;\r\n        }\r\n\r\n        .full-size {\r\n            display: block;\r\n            position: relative;\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n\r\n        .canvas {\r\n            outline: none;\r\n        }\r\n\r\n        .children-slot {\r\n            position: absolute;\r\n            top: 0;\r\n            background: transparent;\r\n            pointer-events: none;\r\n        }\r\n\r\n        .reload-button {\r\n            position: absolute;\r\n            top: 50%;\r\n            left: 50%;\r\n            width: 25%;\r\n            transform: translate(-50%, -50%);\r\n            color: var(--ui-foreground-color);\r\n            background-color: var(--ui-background-color);\r\n            border: 1px solid transparent;\r\n            border-radius: 24px;\r\n            padding: 0;\r\n            cursor: pointer;\r\n            outline: none;\r\n        }\r\n\r\n        .reload-button:hover {\r\n            background-color: var(--ui-background-color-hover);\r\n        }\r\n\r\n        .bar {\r\n            position: absolute;\r\n            width: calc(100% - 24px);\r\n            min-width: 370px;\r\n            max-width: 1280px;\r\n            left: 50%;\r\n            transform: translateX(-50%);\r\n            background-color: var(--ui-background-color);\r\n        }\r\n\r\n        .bar-min {\r\n            width: unset;\r\n            min-width: unset;\r\n            max-width: unset;\r\n        }\r\n\r\n        .loading-progress-outer {\r\n            height: 4px;\r\n            border-radius: 4px;\r\n            border: 1px solid var(--ui-background-color);\r\n            outline: none;\r\n            top: 12px;\r\n            pointer-events: none;\r\n            transition: opacity 0.5s ease;\r\n        }\r\n\r\n        .loading-progress-outer-inactive {\r\n            opacity: 0;\r\n            /* Set the background color to the foreground color while in the inactive state so that the color seen is correct while fading out the opacity. */\r\n            background-color: var(--ui-foreground-color);\r\n        }\r\n\r\n        .loading-progress-inner {\r\n            width: 0;\r\n            height: 100%;\r\n            border-radius: inherit;\r\n            background-color: var(--ui-foreground-color);\r\n            transition: width 0.3s linear;\r\n        }\r\n\r\n        /* The right side of the inner progress bar starts aligned with the left side of the outer progress bar (container).\r\n           So, if the width is 30%, then the left side of the inner progress bar moves a total of 130% of the width of the container.\r\n           This is why the first keyframe is at 23% ((100/130)*30).\r\n         */\r\n        @keyframes indeterminate {\r\n            0% {\r\n                left: 0%;\r\n                width: 0%;\r\n            }\r\n            23% {\r\n                left: 0%;\r\n                width: 30%;\r\n            }\r\n            77% {\r\n                left: 70%;\r\n                width: 30%;\r\n            }\r\n            100% {\r\n                left: 100%;\r\n                width: 0%;\r\n            }\r\n        }\r\n\r\n        .loading-progress-inner-indeterminate {\r\n            position: absolute;\r\n            animation: indeterminate 1.5s infinite;\r\n            animation-timing-function: linear;\r\n        }\r\n\r\n        .tool-bar {\r\n            display: flex;\r\n            flex-direction: row;\r\n            align-items: center;\r\n            border-radius: 12px;\r\n            border-color: var(--ui-foreground-color);\r\n            height: 48px;\r\n            bottom: 12px;\r\n            color: var(--ui-foreground-color);\r\n            -webkit-tap-highlight-color: transparent;\r\n        }\r\n\r\n        .tool-bar * {\r\n            height: 100%;\r\n            min-width: 48px;\r\n        }\r\n\r\n        .tool-bar .divider {\r\n            min-width: 1px;\r\n            margin: 0px 6px;\r\n            height: 66%;\r\n            background-color: var(--ui-foreground-color);\r\n        }\r\n\r\n        .tool-bar select {\r\n            background: none;\r\n            min-width: 52px;\r\n            max-width: 128px;\r\n            border: 1px solid transparent;\r\n            border-radius: inherit;\r\n            color: inherit;\r\n            font-size: 14px;\r\n            padding: 0px 12px;\r\n            cursor: pointer;\r\n            outline: none;\r\n            appearance: none; /* Remove default styling */\r\n            -webkit-appearance: none; /* Remove default styling for Safari */\r\n        }\r\n\r\n        .tool-bar .select-container {\r\n            position: relative;\r\n            display: flex;\r\n            border-radius: inherit;\r\n            border-width: 0;\r\n            padding: 0;\r\n        }\r\n\r\n        .tool-bar .select-container select {\r\n            position: absolute;\r\n            min-width: 0;\r\n            width: 100%;\r\n        }\r\n\r\n        .tool-bar .select-container button {\r\n            position: absolute;\r\n            border-width: 0;\r\n        }\r\n\r\n        .tool-bar select:hover,\r\n        .tool-bar select:focus {\r\n            background-color: var(--ui-background-color-hover);\r\n        }\r\n\r\n        .tool-bar select option {\r\n            background-color: var(--ui-background-color);\r\n            color: var(--ui-foreground-color);\r\n        }\r\n\r\n        .tool-bar select:focus-visible {\r\n            border-color: inherit;\r\n        }\r\n\r\n        .tool-bar button {\r\n            background: none;\r\n            border: 1px solid transparent;\r\n            border-radius: inherit;\r\n            color: inherit;\r\n            padding: 0;\r\n            cursor: pointer;\r\n            outline: none;\r\n        }\r\n\r\n        .tool-bar button:hover {\r\n            background-color: var(--ui-background-color-hover);\r\n        }\r\n\r\n        .tool-bar button:focus-visible {\r\n            border-color: inherit;\r\n        }\r\n\r\n        .tool-bar button svg {\r\n            width: 32px;\r\n            height: 32px;\r\n        }\r\n\r\n        .animation-timeline {\r\n            display: flex;\r\n            flex: 1;\r\n            position: relative;\r\n            overflow: hidden;\r\n            cursor: pointer;\r\n            align-items: center;\r\n            border-radius: inherit;\r\n            border-color: inherit;\r\n        }\r\n\r\n        .animation-timeline-input {\r\n            -webkit-appearance: none;\r\n            cursor: pointer;\r\n            width: 100%;\r\n            height: 100%;\r\n            outline: none;\r\n            border: 1px solid transparent;\r\n            border-radius: inherit;\r\n            padding: 0 12px;\r\n            background-color: transparent;\r\n        }\r\n\r\n        .animation-timeline-input:focus-visible {\r\n            border-color: inherit;\r\n        }\r\n\r\n        /*Chrome -webkit */\r\n\r\n        .animation-timeline-input::-webkit-slider-thumb {\r\n            -webkit-appearance: none;\r\n            width: 20px;\r\n            height: 20px;\r\n            border: 2px solid;\r\n            color: var(--ui-foreground-color);\r\n            border-radius: 50%;\r\n            background: hsla(var(--ui-background-hue), var(--ui-background-saturation), var(--ui-background-lightness), 1);\r\n            margin-top: -10px;\r\n        }\r\n\r\n        .animation-timeline-input::-webkit-slider-runnable-track {\r\n            height: 2px;\r\n            -webkit-appearance: none;\r\n            background-color: var(--ui-foreground-color);\r\n        }\r\n\r\n        /** FireFox -moz */\r\n\r\n        .animation-timeline-input::-moz-range-progress {\r\n            height: 2px;\r\n            background-color: var(--ui-foreground-color);\r\n        }\r\n\r\n        .animation-timeline-input::-moz-range-thumb {\r\n            width: 16px;\r\n            height: 16px;\r\n            border: 2px solid var(--ui-foreground-color);\r\n            border-radius: 50%;\r\n            background: hsla(var(--ui-background-hue), var(--ui-background-saturation), var(--ui-background-lightness), 1);\r\n        }\r\n\r\n        .animation-timeline-input::-moz-range-track {\r\n            height: 2px;\r\n            background: var(--ui-foreground-color);\r\n        }\r\n    `;\r\n\r\n    /**\r\n     * Gets the underlying viewer details (when the underlying viewer is in a loaded state).\r\n     * This is useful for advanced scenarios where direct access to the viewer or Babylon scene is needed.\r\n     */\r\n    public get viewerDetails() {\r\n        return this._viewerDetails;\r\n    }\r\n\r\n    /**\r\n     * Get hotspot world and screen values from a named hotspot\r\n     * @param name slot of the hot spot\r\n     * @param result resulting world and screen positions\r\n     * @returns world position, world normal and screen space coordinates\r\n     */\r\n    public queryHotSpot(name: string, result: ViewerHotSpotResult): boolean {\r\n        if (this._viewerDetails) {\r\n            return this._viewerDetails.viewer.queryHotSpot(name, result);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Updates the camera to focus on a named hotspot.\r\n     * @param name The name of the hotspot to focus on.\r\n     * @returns true if the hotspot was found and the camera was updated, false otherwise.\r\n     */\r\n    public focusHotSpot(name: string): boolean {\r\n        if (this._viewerDetails) {\r\n            return this._viewerDetails.viewer.focusHotSpot(name);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @state()\r\n    private _isFaultedBacking = false;\r\n\r\n    protected get _isFaulted() {\r\n        return this._isFaultedBacking;\r\n    }\r\n\r\n    /**\r\n     * The engine to use for rendering.\r\n     */\r\n    @property({ converter: coerceEngineAttribute })\r\n    public engine: CanvasViewerOptions[\"engine\"] = this._options.engine;\r\n\r\n    /**\r\n     * When true, the scene will be rendered even if no scene state has changed.\r\n     */\r\n    @property({ attribute: \"render-when-idle\", type: Boolean })\r\n    public renderWhenIdle: boolean = this._options.autoSuspendRendering === false;\r\n\r\n    /**\r\n     * The model URL.\r\n     */\r\n    @property()\r\n    public source: Nullable<string> = this._options.source ?? null;\r\n\r\n    /**\r\n     * Forces the model to be loaded with the specified extension.\r\n     * @remarks\r\n     * If this property is not set, the extension will be inferred from the model URL when possible.\r\n     */\r\n    @property()\r\n    public extension: Nullable<string> = null;\r\n\r\n    /**\r\n     * The texture URLs used for lighting and skybox. Setting this property will set both environmentLighting and environmentSkybox.\r\n     */\r\n    @property({\r\n        hasChanged: (newValue: ViewerElement[\"environment\"], oldValue: ViewerElement[\"environment\"]) => {\r\n            return newValue.lighting !== oldValue.lighting || newValue.skybox !== oldValue.skybox;\r\n        },\r\n    })\r\n    public get environment(): { lighting: Nullable<string>; skybox: Nullable<string> } {\r\n        return { lighting: this.environmentLighting, skybox: this.environmentSkybox };\r\n    }\r\n    public set environment(url: string) {\r\n        this.environmentLighting = url || null;\r\n        this.environmentSkybox = url || null;\r\n    }\r\n\r\n    /**\r\n     * The texture URL for lighting.\r\n     */\r\n    @property({ attribute: \"environment-lighting\" })\r\n    public environmentLighting: Nullable<string> = this._options.environmentLighting ?? null;\r\n\r\n    /**\r\n     * The texture URL for the skybox.\r\n     */\r\n    @property({ attribute: \"environment-skybox\" })\r\n    public environmentSkybox: Nullable<string> = this._options.environmentSkybox ?? null;\r\n\r\n    /**\r\n     * A value between 0 and 2 that specifies the intensity of the environment lighting.\r\n     */\r\n    @property({ type: Number, attribute: \"environment-intensity\" })\r\n    public environmentIntensity: Nullable<number> = this._options.environmentConfig?.intensity ?? null;\r\n\r\n    /**\r\n     * A value in radians that specifies the rotation of the environment.\r\n     */\r\n    @property({\r\n        type: Number,\r\n        attribute: \"environment-rotation\",\r\n    })\r\n    public environmentRotation: Nullable<number> = this._options.environmentConfig?.rotation ?? null;\r\n\r\n    /**\r\n     * The type of shadows to use.\r\n     */\r\n    @property({\r\n        attribute: \"shadow-quality\",\r\n    })\r\n    public shadowQuality: Nullable<ShadowQuality> = null;\r\n\r\n    @state()\r\n    private _loadingProgress: boolean | number = false;\r\n\r\n    /**\r\n     * Gets information about loading activity.\r\n     * @remarks\r\n     * false indicates no loading activity.\r\n     * true indicates loading activity with no progress information.\r\n     * A number between 0 and 1 indicates loading activity with progress information.\r\n     */\r\n    public get loadingProgress(): boolean | number {\r\n        return this._loadingProgress;\r\n    }\r\n\r\n    /**\r\n     * A value between 0 and 1 that specifies how much to blur the skybox.\r\n     */\r\n    @property({ attribute: \"skybox-blur\" })\r\n    public skyboxBlur: Nullable<number> = this._options.environmentConfig?.blur ?? null;\r\n\r\n    /**\r\n     * The tone mapping to use for rendering the scene.\r\n     */\r\n    @property({\r\n        attribute: \"tone-mapping\",\r\n        converter: (value: string | null): ToneMapping => {\r\n            if (!value || !IsToneMapping(value)) {\r\n                return \"neutral\";\r\n            }\r\n            return value;\r\n        },\r\n    })\r\n    public toneMapping: Nullable<ToneMapping> = this._options.postProcessing?.toneMapping ?? null;\r\n\r\n    /**\r\n     * The contrast applied to the scene.\r\n     */\r\n    @property()\r\n    public contrast: Nullable<number> = this._options.postProcessing?.contrast ?? null;\r\n\r\n    /**\r\n     * The exposure applied to the scene.\r\n     */\r\n    @property()\r\n    public exposure: Nullable<number> = this._options.postProcessing?.exposure ?? null;\r\n\r\n    /**\r\n     * The clear color (e.g. background color) for the viewer.\r\n     */\r\n    @property({\r\n        attribute: \"clear-color\",\r\n        converter: {\r\n            fromAttribute: parseColor,\r\n            toAttribute: (color: Nullable<Color4>) => (color ? color.toHexString() : null),\r\n        },\r\n    })\r\n    public clearColor: Nullable<Color4> = this._options.clearColor\r\n        ? new Color4(this._options.clearColor[0], this._options.clearColor[1], this._options.clearColor[2], this._options.clearColor[3] ?? 1)\r\n        : null;\r\n\r\n    /**\r\n     * Enables or disables camera auto-orbit.\r\n     */\r\n    @property({\r\n        attribute: \"camera-auto-orbit\",\r\n        type: Boolean,\r\n    })\r\n    public cameraAutoOrbit = this._options.cameraAutoOrbit?.enabled ?? false;\r\n\r\n    /**\r\n     * The speed at which the camera auto-orbits around the target.\r\n     */\r\n    @property({\r\n        attribute: \"camera-auto-orbit-speed\",\r\n        type: Number,\r\n    })\r\n    public cameraAutoOrbitSpeed: Nullable<number> = this._options.cameraAutoOrbit?.speed ?? null;\r\n\r\n    /**\r\n     * The delay in milliseconds before the camera starts auto-orbiting.\r\n     */\r\n    @property({\r\n        attribute: \"camera-auto-orbit-delay\",\r\n        type: Number,\r\n    })\r\n    public cameraAutoOrbitDelay: Nullable<number> = this._options.cameraAutoOrbit?.delay ?? null;\r\n\r\n    /**\r\n     * The set of defined hot spots.\r\n     */\r\n    @property({\r\n        attribute: \"hotspots\",\r\n        converter: (value) => {\r\n            if (!value) {\r\n                return {};\r\n            }\r\n\r\n            return JSON.parse(value);\r\n        },\r\n    })\r\n    public hotSpots: Record<string, HotSpot> = this._options.hotSpots ?? {};\r\n\r\n    /**\r\n     * @experimental\r\n     * True if the viewer has any hotspots.\r\n     */\r\n    protected get _hasHotSpots(): boolean {\r\n        return Object.keys(this.hotSpots).length > 0;\r\n    }\r\n\r\n    /**\r\n     * True if the default animation should play automatically when a model is loaded.\r\n     */\r\n    @property({ attribute: \"animation-auto-play\", type: Boolean })\r\n    public animationAutoPlay: boolean = !!this._options.animationAutoPlay;\r\n\r\n    /**\r\n     * The list of animation names for the currently loaded model.\r\n     */\r\n    public get animations(): readonly string[] {\r\n        return this._animations;\r\n    }\r\n\r\n    /**\r\n     * @experimental\r\n     * True if the loaded model has any animations.\r\n     */\r\n    protected get _hasAnimations(): boolean {\r\n        return this._animations.length > 0;\r\n    }\r\n\r\n    /**\r\n     * The currently selected animation index.\r\n     */\r\n    @property({ attribute: \"selected-animation\", type: Number })\r\n    public selectedAnimation: Nullable<number> = this._options.selectedAnimation ?? null;\r\n\r\n    /**\r\n     * True if an animation is currently playing.\r\n     */\r\n    public get isAnimationPlaying(): boolean {\r\n        return this._isAnimationPlaying;\r\n    }\r\n\r\n    /**\r\n     * The speed scale at which animations are played.\r\n     */\r\n    @property({ attribute: \"animation-speed\" })\r\n    public animationSpeed = this._options.animationSpeed ?? 1;\r\n\r\n    /**\r\n     * The current point on the selected animation timeline, normalized between 0 and 1.\r\n     */\r\n    @property({ attribute: false })\r\n    public animationProgress = 0;\r\n\r\n    @state()\r\n    private _animations: readonly string[] = [];\r\n\r\n    @state()\r\n    private _isAnimationPlaying = false;\r\n\r\n    @state()\r\n    private _showAnimationSlider = true;\r\n\r\n    /**\r\n     * The list of material variants for the currently loaded model.\r\n     */\r\n    public get materialVariants(): readonly string[] {\r\n        return this._viewerDetails?.viewer.materialVariants ?? [];\r\n    }\r\n\r\n    /**\r\n     * The currently selected material variant.\r\n     */\r\n    @property({ attribute: \"material-variant\" })\r\n    public selectedMaterialVariant: Nullable<string> = this._options.selectedMaterialVariant ?? null;\r\n\r\n    /**\r\n     * True if scene cameras should be used as hotspots.\r\n     */\r\n    @property({ attribute: \"cameras-as-hotspots\", type: Boolean })\r\n    public camerasAsHotSpots = false;\r\n\r\n    /**\r\n     * Determines the behavior of the reset function, and the associated default reset button.\r\n     * @remarks\r\n     * - \"auto\" - Resets the camera to the initial pose if it makes sense given other viewer state, such as the selected animation.\r\n     * - \"reframe\" - Reframes the camera based on the current viewer state (ignores the initial pose).\r\n     * - [ResetFlag] - A space separated list of reset flags that reset various aspects of the viewer state.\r\n     */\r\n    @property({ attribute: \"reset-mode\", converter: coerceResetMode })\r\n    public resetMode: ResetMode = \"auto\";\r\n\r\n    @query(\"#canvasContainer\")\r\n    private _canvasContainer: HTMLDivElement | undefined;\r\n\r\n    @query(\"#hotSpotSelect\")\r\n    private _hotSpotSelect: HTMLSelectElement | undefined;\r\n\r\n    /**\r\n     * Toggles the play/pause animation state if there is a selected animation.\r\n     */\r\n    public toggleAnimation() {\r\n        this._viewerDetails?.viewer.toggleAnimation();\r\n    }\r\n\r\n    /**\r\n     * Resets the Viewer state based on the @see resetMode property.\r\n     */\r\n    public reset() {\r\n        this._reset(this.resetMode);\r\n    }\r\n\r\n    private _reset(mode: ResetMode) {\r\n        switch (mode) {\r\n            case \"auto\":\r\n                this._viewerDetails?.viewer.resetCamera(undefined);\r\n                break;\r\n            case \"reframe\":\r\n                this._viewerDetails?.viewer.resetCamera(true);\r\n                break;\r\n            default:\r\n                this._viewerDetails?.viewer.reset(...mode);\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Resets the camera to its initial pose.\r\n     */\r\n    public resetCamera() {\r\n        this._reset(\"reframe\");\r\n    }\r\n\r\n    /**\r\n     * Reloads the viewer. This is typically only needed when the viewer is in a faulted state (e.g. due to the context being lost).\r\n     */\r\n    public reload() {\r\n        this._tearDownViewer();\r\n        this._setupViewer();\r\n    }\r\n\r\n    /** @internal */\r\n    public override connectedCallback(): void {\r\n        super.connectedCallback();\r\n        this._setupViewer();\r\n    }\r\n\r\n    /** @internal */\r\n    public override disconnectedCallback(): void {\r\n        super.disconnectedCallback();\r\n        this._tearDownViewer();\r\n    }\r\n\r\n    /** @internal */\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    public override attributeChangedCallback(name: string, oldValue: string | null, newValue: string | null): void {\r\n        super.attributeChangedCallback(name, oldValue, newValue);\r\n\r\n        if (this.hasUpdated) {\r\n            if (name == \"camera-orbit\") {\r\n                const value = coerceCameraOrbitOrTarget(newValue);\r\n                if (value) {\r\n                    this._viewerDetails?.viewer.updateCamera({ alpha: value[0], beta: value[1], radius: value[2] });\r\n                } else {\r\n                    this._viewerDetails?.viewer.resetCamera(false);\r\n                }\r\n            } else if (name == \"camera-target\") {\r\n                const value = coerceCameraOrbitOrTarget(newValue);\r\n                if (value) {\r\n                    this._viewerDetails?.viewer.updateCamera({ targetX: value[0], targetY: value[1], targetZ: value[2] });\r\n                } else {\r\n                    this._viewerDetails?.viewer.resetCamera(false);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /** @internal */\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    protected override update(changedProperties: PropertyValues<this>): void {\r\n        super.update(changedProperties);\r\n\r\n        if (this._hotSpotSelect) {\r\n            this._hotSpotSelect.value = \"\";\r\n        }\r\n\r\n        let needsReload = false;\r\n        if (changedProperties.get(\"renderWhenIdle\") != null) {\r\n            needsReload = true;\r\n        } else if (changedProperties.has(\"engine\")) {\r\n            const previous = changedProperties.get(\"engine\");\r\n            if (previous && this.engine !== previous) {\r\n                needsReload = true;\r\n            }\r\n        }\r\n\r\n        if (needsReload) {\r\n            this._tearDownViewer();\r\n            this._setupViewer();\r\n        } else {\r\n            this._propertyBindings.filter((binding) => changedProperties.has(binding.property)).forEach((binding) => binding.updateViewer());\r\n\r\n            if (changedProperties.has(\"source\")) {\r\n                this._updateModel();\r\n            }\r\n\r\n            if (changedProperties.has(\"environmentLighting\") || changedProperties.has(\"environmentSkybox\")) {\r\n                this._updateEnv({\r\n                    lighting: changedProperties.has(\"environmentLighting\"),\r\n                    skybox: changedProperties.has(\"environmentSkybox\"),\r\n                });\r\n            }\r\n\r\n            if (changedProperties.has(\"shadowQuality\")) {\r\n                this._updateShadows(this.shadowQuality);\r\n            }\r\n        }\r\n    }\r\n\r\n    /** @internal */\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    protected override render() {\r\n        return html`\r\n            <div class=\"full-size\">\r\n                <div id=\"canvasContainer\" class=\"full-size\"></div>\r\n                ${this._renderOverlay()}\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    /**\r\n     * @experimental\r\n     * Renders the progress bar.\r\n     * @returns The template result for the progress bar.\r\n     */\r\n    protected _renderProgressBar(): TemplateResult {\r\n        const showProgressBar = this.loadingProgress !== false;\r\n        // If loadingProgress is true, then the progress bar is indeterminate so the value doesn't matter.\r\n        const progressValue = typeof this.loadingProgress === \"boolean\" ? 0 : this.loadingProgress * 100;\r\n        const isIndeterminate = this.loadingProgress === true;\r\n\r\n        return html`\r\n            <div part=\"progress-bar\" class=\"bar loading-progress-outer ${showProgressBar ? \"\" : \"loading-progress-outer-inactive\"}\" aria-label=\"Loading Progress\">\r\n                <div\r\n                    class=\"loading-progress-inner ${isIndeterminate ? \"loading-progress-inner-indeterminate\" : \"\"}\"\r\n                    style=\"${isIndeterminate ? \"\" : `width: ${progressValue}%`}\"\r\n                ></div>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    /**\r\n     * @experimental\r\n     * Renders the toolbar.\r\n     * @returns The template result for the toolbar.\r\n     */\r\n    protected _renderToolbar(): TemplateResult {\r\n        let toolbarControls: TemplateResult[] = [];\r\n        if (this._viewerDetails?.model != null) {\r\n            // If the model has animations, add animation controls.\r\n            if (this._hasAnimations) {\r\n                toolbarControls.push(html`\r\n                    <div class=\"animation-timeline\">\r\n                        <button aria-label=\"${this.isAnimationPlaying ? \"Pause\" : \"Play\"}\" @click=\"${this.toggleAnimation}\">\r\n                            ${!this.isAnimationPlaying\r\n                                ? html`\r\n                                      <svg viewBox=\"0 0 24 24\">\r\n                                          <path d=\"${playFilledIcon}\" fill=\"currentColor\"></path>\r\n                                      </svg>\r\n                                  `\r\n                                : html`\r\n                                      <svg viewBox=\"0 0 24 24\">\r\n                                          <path d=\"${pauseFilledIcon}\" fill=\"currentColor\"></path>\r\n                                      </svg>\r\n                                  `}\r\n                        </button>\r\n                        <input\r\n                            ${ref(this._onAnimationSliderChanged)}\r\n                            aria-label=\"Animation Progress\"\r\n                            class=\"animation-timeline-input\"\r\n                            style=\"${this._showAnimationSlider ? \"\" : \"visibility: hidden\"}\"\r\n                            type=\"range\"\r\n                            min=\"0\"\r\n                            max=\"1\"\r\n                            step=\"0.0001\"\r\n                            .value=\"${this.animationProgress}\"\r\n                            @input=\"${this._onAnimationTimelineChanged}\"\r\n                            @pointerdown=\"${this._onAnimationTimelinePointerDown}\"\r\n                        />\r\n                    </div>\r\n                    <select aria-label=\"Select Animation Speed\" @change=\"${this._onAnimationSpeedChanged}\">\r\n                        ${allowedAnimationSpeeds.map((speed) => html`<option value=\"${speed}\" .selected=\"${this.animationSpeed === speed}\">${speed}x</option> `)}\r\n                    </select>\r\n                    ${this.animations.length > 1\r\n                        ? html`<select aria-label=\"Select Animation\" @change=\"${this._onSelectedAnimationChanged}\">\r\n                              ${this.animations.map((name, index) => html`<option value=\"${index}\" .selected=\"${this.selectedAnimation === index}\">${name}</option>`)}\r\n                          </select>`\r\n                        : \"\"}\r\n                `);\r\n            }\r\n\r\n            // If the model has material variants, add material variant controls.\r\n            if (this.materialVariants.length > 1) {\r\n                toolbarControls.push(html`\r\n                    <select aria-label=\"Select Material Variant\" @change=\"${this._onMaterialVariantChanged}\">\r\n                        ${this.materialVariants.map((name) => html`<option value=\"${name}\" .selected=\"${this.selectedMaterialVariant === name}\">${name}</option>`)}\r\n                    </select>\r\n                `);\r\n            }\r\n\r\n            // Always include a button to reset the camera pose.\r\n            toolbarControls.push(html`\r\n                <button aria-label=\"Reset Camera Pose\" @click=\"${this.reset}\">\r\n                    <svg viewBox=\"0 0 24 24\">\r\n                        <path d=\"${arrowResetFilledIcon}\" fill=\"currentColor\"></path>\r\n                    </svg>\r\n                </button>\r\n            `);\r\n\r\n            // If hotspots have been defined, add hotspot controls.\r\n            if (this._hasHotSpots) {\r\n                toolbarControls.push(html`\r\n                    <div class=\"select-container\">\r\n                        <select id=\"hotSpotSelect\" aria-label=\"Select HotSpot\" @change=\"${this._onHotSpotsChanged}\">\r\n                            <!-- When the select is forced to be less wide than the options, padding on the right is lost. Pad with white space. -->\r\n                            ${Object.keys(this.hotSpots).map((name) => html`<option value=\"${name}\">${name}&nbsp;&nbsp;</option>`)}\r\n                        </select>\r\n                        <!-- This button is not actually interactive, we want input to pass through to the select below. -->\r\n                        <button style=\"pointer-events: none\">\r\n                            <svg viewBox=\"0 0 24 24\">\r\n                                <path d=\"${targetFilledIcon}\" fill=\"currentColor\"></path>\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                `);\r\n            }\r\n\r\n            // Add a vertical divider between each toolbar control.\r\n            const controlCount = toolbarControls.length;\r\n            const separator = html`<div class=\"divider\"></div>`;\r\n            toolbarControls = toolbarControls.reduce((toolbarControls, toolbarControl, index) => {\r\n                if (index < controlCount - 1) {\r\n                    return [...toolbarControls, toolbarControl, separator];\r\n                } else {\r\n                    return [...toolbarControls, toolbarControl];\r\n                }\r\n            }, new Array<TemplateResult>());\r\n        }\r\n\r\n        if (toolbarControls.length > 0) {\r\n            return html` <div part=\"tool-bar\" class=\"bar ${this._hasAnimations ? \"\" : \"bar-min\"} tool-bar\">${toolbarControls}</div>`;\r\n        } else {\r\n            return html``;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @experimental\r\n     * Renders the reload button.\r\n     * @returns The template result for the reload button.\r\n     */\r\n    protected _renderReloadButton(): TemplateResult {\r\n        return html`${this._isFaulted\r\n            ? html`\r\n                  <button aria-label=\"Reload\" part=\"reload-button\" class=\"reload-button\" @click=\"${this.reload}\">\r\n                      <svg viewBox=\"0 0 24 24\">\r\n                          <path d=\"${arrowClockwiseFilledIcon}\" fill=\"currentColor\"></path>\r\n                      </svg>\r\n                  </button>\r\n              `\r\n            : \"\"}`;\r\n    }\r\n\r\n    /**\r\n     * @experimental\r\n     * Renders UI elements that overlay the viewer.\r\n     * Override this method to provide additional rendering for the component.\r\n     * @returns TemplateResult The rendered template result.\r\n     */\r\n    protected _renderOverlay(): TemplateResult {\r\n        // NOTE: The unnamed 'slot' element holds all child elements of the <babylon-viewer> that do not specify a 'slot' attribute.\r\n        return html`\r\n            <slot class=\"full-size children-slot\"></slot>\r\n            <slot name=\"progress-bar\">${this._renderProgressBar()}</slot>\r\n            <slot name=\"tool-bar\">${this._renderToolbar()}</slot>\r\n            <slot name=\"reload-button\">${this._renderReloadButton()}</slot>\r\n        `;\r\n    }\r\n\r\n    /**\r\n     * @experimental\r\n     * Dispatches a custom event.\r\n     * @param type The type of the event.\r\n     * @param event A function that creates the event.\r\n     */\r\n    protected _dispatchCustomEvent<TEvent extends keyof ViewerElementEventMap>(type: TEvent, event: (type: TEvent) => ViewerElementEventMap[TEvent]) {\r\n        this.dispatchEvent(event(type));\r\n    }\r\n\r\n    /**\r\n     * @experimental\r\n     * Handles changes to the selected animation.\r\n     * @param event The change event.\r\n     */\r\n    protected _onSelectedAnimationChanged(event: Event) {\r\n        const selectElement = event.target as HTMLSelectElement;\r\n        this.selectedAnimation = Number(selectElement.value);\r\n    }\r\n\r\n    /**\r\n     * @experimental\r\n     * Handles changes to the animation speed.\r\n     * @param event The change event.\r\n     */\r\n    protected _onAnimationSpeedChanged(event: Event) {\r\n        const selectElement = event.target as HTMLSelectElement;\r\n        this.animationSpeed = Number(selectElement.value);\r\n    }\r\n\r\n    /**\r\n     * @experimental\r\n     * Handles changes to the animation timeline.\r\n     * @param event The change event.\r\n     */\r\n    protected _onAnimationTimelineChanged(event: Event) {\r\n        if (this._viewerDetails) {\r\n            const input = event.target as HTMLInputElement;\r\n            const value = Number(input.value);\r\n            if (value !== this.animationProgress) {\r\n                this._viewerDetails.viewer.animationProgress = value;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @experimental\r\n     * Handles pointer down events on the animation timeline.\r\n     * @param event The pointer down event.\r\n     */\r\n    protected _onAnimationTimelinePointerDown(event: Event) {\r\n        if (this._viewerDetails?.viewer.isAnimationPlaying) {\r\n            this._viewerDetails.viewer.pauseAnimation();\r\n            const input = event.target as HTMLInputElement;\r\n            input.addEventListener(\"pointerup\", () => this._viewerDetails?.viewer.playAnimation(), { once: true });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @experimental\r\n     * Handles changes to the selected material variant.\r\n     * @param event The change event.\r\n     */\r\n    protected _onMaterialVariantChanged(event: Event) {\r\n        const selectElement = event.target as HTMLSelectElement;\r\n        this.selectedMaterialVariant = selectElement.value;\r\n    }\r\n\r\n    /**\r\n     * @experimental\r\n     * Handles changes to the hot spot list.\r\n     * @param event The change event.\r\n     */\r\n    protected _onHotSpotsChanged(event: Event) {\r\n        const selectElement = event.target as HTMLSelectElement;\r\n        const hotSpotName = selectElement.value;\r\n        // We don't actually want a selected value, this is just a one time trigger.\r\n        selectElement.value = \"\";\r\n        this.focusHotSpot(hotSpotName);\r\n    }\r\n\r\n    private _onAnimationSliderChanged(element?: Element) {\r\n        this._animationSliderResizeObserver?.disconnect();\r\n        if (element) {\r\n            this._animationSliderResizeObserver = new ResizeObserver(() => {\r\n                this._showAnimationSlider = element.clientWidth >= 80;\r\n            });\r\n            this._animationSliderResizeObserver.observe(element);\r\n        }\r\n    }\r\n\r\n    // Helper function to simplify keeping Viewer properties in sync with HTML3DElement properties.\r\n    private _createPropertyBinding(\r\n        property: keyof ViewerElement,\r\n        getObservable: (viewerDetails: NonNullable<this[\"viewerDetails\"]>) => Observable<any>,\r\n        updateViewer: (viewerDetails: NonNullable<this[\"viewerDetails\"]>) => void,\r\n        updateElement: (viewerDetails: NonNullable<this[\"viewerDetails\"]>) => void\r\n    ) {\r\n        return {\r\n            property,\r\n            // Called each time a Viewer instance is created.\r\n            onInitialized: (viewerDetails: NonNullable<this[\"viewerDetails\"]>) => {\r\n                getObservable(viewerDetails).add(() => {\r\n                    updateElement(viewerDetails);\r\n                });\r\n                updateViewer(viewerDetails);\r\n            },\r\n            // Called when the HTML3DElement property should be propagated to the Viewer.\r\n            updateViewer: () => {\r\n                if (this._viewerDetails) {\r\n                    updateViewer(this._viewerDetails);\r\n                }\r\n            },\r\n        };\r\n    }\r\n\r\n    private async _setupViewer() {\r\n        await this._viewerLock.lockAsync(async () => {\r\n            // The first time the element is connected, the canvas container may not be available yet.\r\n            // Wait for the first update if needed.\r\n            if (!this._canvasContainer) {\r\n                await this.updateComplete;\r\n            }\r\n\r\n            if (this._canvasContainer && !this._viewerDetails) {\r\n                const canvas = document.createElement(\"canvas\");\r\n                canvas.className = \"full-size canvas\";\r\n                canvas.setAttribute(\"touch-action\", \"none\");\r\n                this._canvasContainer.appendChild(canvas);\r\n\r\n                {\r\n                    const detailsDeferred = new Deferred<ViewerDetails>();\r\n                    // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n                    const viewerElement = this;\r\n                    const viewer = await this._createViewer(\r\n                        canvas,\r\n                        new Proxy(this._options, {\r\n                            get(target, prop: keyof CanvasViewerOptions) {\r\n                                switch (prop) {\r\n                                    case \"engine\":\r\n                                        return viewerElement.engine ?? target.engine;\r\n                                    case \"autoSuspendRendering\":\r\n                                        return !(viewerElement.hasAttribute(\"render-when-idle\") || target.autoSuspendRendering === false);\r\n                                    case \"source\":\r\n                                        return viewerElement.getAttribute(\"source\") ?? target.source;\r\n                                    case \"environmentLighting\":\r\n                                        return viewerElement.getAttribute(\"environment-lighting\") ?? viewerElement.getAttribute(\"environment\") ?? target.environmentLighting;\r\n                                    case \"environmentSkybox\":\r\n                                        return viewerElement.getAttribute(\"environment-skybox\") ?? viewerElement.getAttribute(\"environment\") ?? target.environmentSkybox;\r\n                                    case \"environmentConfig\":\r\n                                        return {\r\n                                            intensity: coerceNumericAttribute(viewerElement.getAttribute(\"environment-intensity\")) ?? target.environmentConfig?.intensity,\r\n                                            blur: coerceNumericAttribute(viewerElement.getAttribute(\"skybox-blur\")) ?? target.environmentConfig?.blur,\r\n                                            rotation: coerceNumericAttribute(viewerElement.getAttribute(\"environment-rotation\")) ?? target.environmentConfig?.rotation,\r\n                                        };\r\n                                    case \"shadowConfig\":\r\n                                        return {\r\n                                            quality: coerceShadowQuality(viewerElement.getAttribute(\"shadow-quality\")) ?? target.shadowConfig?.quality,\r\n                                        };\r\n                                    case \"cameraOrbit\":\r\n                                        return coerceCameraOrbitOrTarget(viewerElement.getAttribute(\"camera-orbit\")) ?? target.cameraOrbit;\r\n                                    case \"cameraTarget\":\r\n                                        return coerceCameraOrbitOrTarget(viewerElement.getAttribute(\"camera-target\")) ?? target.cameraTarget;\r\n                                    case \"cameraAutoOrbit\":\r\n                                        return {\r\n                                            enabled: viewerElement.hasAttribute(\"camera-auto-orbit\") || target.cameraAutoOrbit?.enabled,\r\n                                            speed: coerceNumericAttribute(viewerElement.getAttribute(\"camera-auto-orbit-speed\")) ?? target.cameraAutoOrbit?.speed,\r\n                                            delay: coerceNumericAttribute(viewerElement.getAttribute(\"camera-auto-orbit-delay\")) ?? target.cameraAutoOrbit?.delay,\r\n                                        };\r\n                                    case \"animationAutoPlay\":\r\n                                        return viewerElement.hasAttribute(\"animation-auto-play\") || target.animationAutoPlay;\r\n                                    case \"animationSpeed\":\r\n                                        return coerceNumericAttribute(viewerElement.getAttribute(\"animation-speed\")) ?? target.animationSpeed;\r\n                                    case \"selectedAnimation\":\r\n                                        return coerceNumericAttribute(viewerElement.getAttribute(\"selected-animation\")) ?? target.selectedAnimation;\r\n                                    case \"postProcessing\":\r\n                                        return {\r\n                                            toneMapping: coerceToneMapping(viewerElement.getAttribute(\"tone-mapping\")) ?? target.postProcessing?.toneMapping,\r\n                                            contrast: coerceNumericAttribute(viewerElement.getAttribute(\"contrast\")) ?? target.postProcessing?.contrast,\r\n                                            exposure: coerceNumericAttribute(viewerElement.getAttribute(\"exposure\")) ?? target.postProcessing?.exposure,\r\n                                        };\r\n                                    case \"selectedMaterialVariant\":\r\n                                        return viewerElement.getAttribute(\"material-variant\") ?? target.selectedMaterialVariant;\r\n                                    case \"onInitialized\":\r\n                                        return (details: Readonly<ViewerDetails>) => {\r\n                                            target.onInitialized?.(details);\r\n                                            detailsDeferred.resolve(details);\r\n                                        };\r\n                                    case \"onFaulted\":\r\n                                        return (error: Error) => {\r\n                                            viewerElement._isFaultedBacking = true;\r\n                                            target.onFaulted?.(error);\r\n                                            viewerElement._tearDownViewer();\r\n                                        };\r\n                                    default:\r\n                                        return target[prop];\r\n                                }\r\n                            },\r\n                        })\r\n                    );\r\n                    const details = await detailsDeferred.promise;\r\n\r\n                    this._viewerDetails = Object.assign(details, { viewer });\r\n                }\r\n\r\n                const details = this._viewerDetails;\r\n\r\n                details.viewer.onEnvironmentChanged.add(() => {\r\n                    this._dispatchCustomEvent(\"environmentchange\", (type) => new Event(type));\r\n                });\r\n\r\n                details.viewer.onEnvironmentConfigurationChanged.add(() => {\r\n                    this._dispatchCustomEvent(\"environmentconfigurationchange\", (type) => new Event(type));\r\n                });\r\n\r\n                details.viewer.onEnvironmentError.add((error) => {\r\n                    this._dispatchCustomEvent(\"environmenterror\", (type) => new ErrorEvent(type, { error }));\r\n                });\r\n\r\n                details.viewer.onShadowsConfigurationChanged.add(() => {\r\n                    this._dispatchCustomEvent(\"shadowsconfigurationchange\", (type) => new Event(type));\r\n                });\r\n\r\n                details.viewer.onModelChanged.add((source) => {\r\n                    this._animations = [...details.viewer.animations];\r\n                    this._dispatchCustomEvent(\"modelchange\", (type) => new CustomEvent(type, { detail: source }));\r\n                });\r\n\r\n                details.viewer.onModelError.add((error) => {\r\n                    this._animations = [...details.viewer.animations];\r\n                    this._dispatchCustomEvent(\"modelerror\", (type) => new ErrorEvent(type, { error }));\r\n                });\r\n\r\n                details.viewer.onLoadingProgressChanged.add(() => {\r\n                    this._loadingProgress = details.viewer.loadingProgress;\r\n                    this._dispatchCustomEvent(\"loadingprogresschange\", (type) => new Event(type));\r\n                });\r\n\r\n                details.viewer.onSelectedAnimationChanged.add(() => {\r\n                    this._dispatchCustomEvent(\"selectedanimationchange\", (type) => new Event(type));\r\n                });\r\n\r\n                details.viewer.onIsAnimationPlayingChanged.add(() => {\r\n                    this._isAnimationPlaying = details.viewer.isAnimationPlaying ?? false;\r\n                    this._dispatchCustomEvent(\"animationplayingchange\", (type) => new Event(type));\r\n                });\r\n\r\n                details.viewer.onAnimationProgressChanged.add(() => {\r\n                    this.animationProgress = details.viewer.animationProgress ?? 0;\r\n                    this._dispatchCustomEvent(\"animationprogresschange\", (type) => new Event(type));\r\n                });\r\n\r\n                details.viewer.onSelectedMaterialVariantChanged.add(() => {\r\n                    this._dispatchCustomEvent(\"selectedmaterialvariantchange\", (type) => new Event(type));\r\n                });\r\n\r\n                details.scene.onAfterRenderCameraObservable.add(() => {\r\n                    this._dispatchCustomEvent(\"viewerrender\", (type) => new Event(type));\r\n                });\r\n\r\n                this._propertyBindings.forEach((binding) => binding.onInitialized(details));\r\n\r\n                this._dispatchCustomEvent(\"viewerready\", (type) => new Event(type));\r\n            }\r\n\r\n            this._isFaultedBacking = false;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @experimental\r\n     * Creates a viewer for the specified canvas.\r\n     * @param canvas The canvas to create the viewer for.\r\n     * @param options The options to use for the viewer.\r\n     * @returns The created viewer.\r\n     */\r\n    protected async _createViewer(canvas: HTMLCanvasElement, options: CanvasViewerOptions): Promise<ViewerClass> {\r\n        return await CreateViewerForCanvas(canvas, Object.assign(options, { viewerClass: this._viewerClass }));\r\n    }\r\n\r\n    private async _tearDownViewer() {\r\n        await this._viewerLock.lockAsync(async () => {\r\n            if (this._viewerDetails) {\r\n                this._viewerDetails.viewer.dispose();\r\n                this._viewerDetails = undefined;\r\n            }\r\n\r\n            this._loadingProgress = false;\r\n\r\n            // We want to replace the canvas for two reasons:\r\n            // 1. When the viewer element is reconnected to the DOM, we don't want to briefly see the last frame of the previous model.\r\n            // 2. If we are changing engines (e.g. WebGL to WebGPU), we need to create a new canvas for the new engine.\r\n            if (this._canvasContainer && this._canvasContainer.firstElementChild) {\r\n                this._canvasContainer.removeChild(this._canvasContainer.firstElementChild);\r\n            }\r\n        });\r\n    }\r\n\r\n    private async _updateModel() {\r\n        if (this._viewerDetails) {\r\n            try {\r\n                if (this.source) {\r\n                    await this._viewerDetails.viewer.loadModel(this.source, {\r\n                        pluginExtension: this.extension ?? undefined,\r\n                    });\r\n                } else {\r\n                    await this._viewerDetails.viewer.resetModel();\r\n                }\r\n            } catch (error) {\r\n                // If loadModel was aborted (e.g. because a new model load was requested before this one finished), we can just ignore the error.\r\n                if (!(error instanceof AbortError)) {\r\n                    Logger.Error(error);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private async _updateEnv(options: EnvironmentOptions): Promise<void> {\r\n        if (this._viewerDetails) {\r\n            try {\r\n                const updates: [url: Nullable<string>, options: EnvironmentOptions][] = [];\r\n\r\n                if (options.lighting && options.skybox && this.environmentLighting === this.environmentSkybox) {\r\n                    updates.push([this.environmentLighting, { lighting: true, skybox: true }]);\r\n                } else {\r\n                    if (options.lighting) {\r\n                        updates.push([this.environmentLighting, { lighting: true }]);\r\n                    }\r\n                    if (options.skybox) {\r\n                        updates.push([this.environmentSkybox, { skybox: true }]);\r\n                    }\r\n                }\r\n\r\n                const promises = updates.map(async ([url, options]) => {\r\n                    if (url) {\r\n                        await this._viewerDetails?.viewer.loadEnvironment(url, options);\r\n                    } else {\r\n                        await this._viewerDetails?.viewer.resetEnvironment(options);\r\n                    }\r\n                });\r\n\r\n                await Promise.all(promises);\r\n            } catch (error) {\r\n                // If loadEnvironment was aborted (e.g. because a new environment load was requested before this one finished), we can just ignore the error.\r\n                if (!(error instanceof AbortError)) {\r\n                    Logger.Error(error);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private async _updateShadows(quality: Nullable<ShadowQuality>): Promise<void> {\r\n        if (!quality) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const options = { quality };\r\n            await this._viewerDetails?.viewer.updateShadows(options);\r\n        } catch (error) {\r\n            // If loadEnvironment was aborted (e.g. because a new environment load was requested before this one finished), we can just ignore the error.\r\n            if (!(error instanceof AbortError)) {\r\n                Logger.Error(error);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Displays a 3D model using the Babylon.js Viewer.\r\n */\r\n@customElement(\"babylon-viewer\")\r\nexport class HTML3DElement extends ViewerElement {\r\n    /**\r\n     * Creates a new HTML3DElement.\r\n     * @param options The options to use for the viewer. This is optional, and is only used when programmatically creating a viewer element.\r\n     */\r\n    public constructor(options?: Readonly<CanvasViewerOptions>) {\r\n        super(Viewer, options);\r\n    }\r\n}\r\n\r\n/**\r\n * Creates a custom HTML element that creates an HTML3DElement with the specified name and configuration.\r\n * @param elementName The name of the custom element.\r\n * @param options The options to use for the viewer.\r\n */\r\nexport function ConfigureCustomViewerElement(elementName: string, options: Readonly<CanvasViewerOptions>) {\r\n    customElements.define(\r\n        elementName,\r\n        // eslint-disable-next-line jsdoc/require-jsdoc\r\n        class extends HTML3DElement {\r\n            public constructor() {\r\n                super(options);\r\n            }\r\n        }\r\n    );\r\n}\r\n","import type { IDisposable, Nullable } from \"core/index\";\r\nimport type { PropertyValues } from \"lit\";\r\n\r\nimport { LitElement, css, html } from \"lit\";\r\nimport { customElement, property } from \"lit/decorators.js\";\r\nimport { ViewerElement } from \"./viewerElement\";\r\nimport { ViewerHotSpotResult } from \"./viewer\";\r\n\r\n/**\r\n * Displays child elements at the screen space location of a hotspot in a babylon-viewer.\r\n * @remarks\r\n * The babylon-viewer-annotation element must be a child of a babylon-viewer element.\r\n */\r\n@customElement(\"babylon-viewer-annotation\")\r\nexport class HTML3DAnnotationElement extends LitElement {\r\n    /** @internal */\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    public static override styles = css`\r\n        :host {\r\n            --annotation-foreground-color: black;\r\n            --annotation-background-color: white;\r\n            display: inline-block;\r\n            position: absolute;\r\n            transition: opacity 0.25s;\r\n        }\r\n\r\n        :host([hidden]) {\r\n            display: none;\r\n        }\r\n\r\n        :host(:state(back-facing)) {\r\n            opacity: 0.2;\r\n        }\r\n\r\n        :host(:state(invalid)) {\r\n            display: none;\r\n        }\r\n\r\n        .annotation {\r\n            transform: translate(-50%, -135%);\r\n            font-size: 14px;\r\n            padding: 0px 6px;\r\n            border-radius: 6px;\r\n            color: var(--annotation-foreground-color);\r\n            background-color: var(--annotation-background-color);\r\n        }\r\n\r\n        .annotation::after {\r\n            content: \"\";\r\n            position: absolute;\r\n            left: 50%;\r\n            height: 60%;\r\n            aspect-ratio: 1;\r\n            transform: translate(-50%, 110%) rotate(-45deg);\r\n            background-color: inherit;\r\n            clip-path: polygon(0 0, 100% 100%, 0 100%, 0 0);\r\n        }\r\n    `;\r\n\r\n    private readonly _internals = this.attachInternals();\r\n    private readonly _mutationObserver = new MutationObserver((mutations) => {\r\n        if (mutations.some((mutation) => mutation.type === \"childList\")) {\r\n            this._sanitizeInnerHTML();\r\n        }\r\n    });\r\n    private _viewerAttachment: Nullable<IDisposable> = null;\r\n    private _connectingAbortController: Nullable<AbortController> = null;\r\n    private _updateAnnotation: Nullable<() => void> = null;\r\n\r\n    /**\r\n     * The name of the hotspot to track.\r\n     */\r\n    @property({ attribute: \"hotspot\" })\r\n    public hotSpot: string = \"\";\r\n\r\n    /** @internal */\r\n    public override connectedCallback(): void {\r\n        super.connectedCallback();\r\n        this._internals.states?.add(\"invalid\");\r\n        this._connectingAbortController?.abort();\r\n        this._connectingAbortController = new AbortController();\r\n        const abortSignal = this._connectingAbortController.signal;\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n        (async () => {\r\n            // Custom element registration can happen at any time via a call to customElements.define, which means it is possible\r\n            // the parent custom element hasn't been defined yet. This especially can happen if the order of imports and exports\r\n            // results in the parent element being defined after the HTML3DAnnotationElement within the final JS bundle.\r\n            if (this.parentElement?.matches(\":not(:defined)\")) {\r\n                await customElements.whenDefined(this.parentElement?.tagName.toLowerCase());\r\n\r\n                // If the element has since been disconnected or reconnected, abort this connection process.\r\n                if (abortSignal.aborted) {\r\n                    return;\r\n                }\r\n            }\r\n\r\n            if (!(this.parentElement instanceof ViewerElement)) {\r\n                // eslint-disable-next-line no-console\r\n                console.warn(\"The babylon-viewer-annotation element must be a child of a babylon-viewer element.\");\r\n                return;\r\n            }\r\n\r\n            this._mutationObserver.observe(this, { childList: true, characterData: true });\r\n            this._sanitizeInnerHTML();\r\n\r\n            const viewerElement = this.parentElement;\r\n            const hotSpotResult = new ViewerHotSpotResult();\r\n            const updateAnnotation = (this._updateAnnotation = () => {\r\n                if (this.hotSpot) {\r\n                    if (viewerElement.queryHotSpot(this.hotSpot, hotSpotResult)) {\r\n                        const [screenX, screenY] = hotSpotResult.screenPosition;\r\n                        this.style.transform = `translate(${screenX}px, ${screenY}px)`;\r\n                        this._internals.states?.delete(\"invalid\");\r\n\r\n                        if (hotSpotResult.visibility <= 0) {\r\n                            this._internals.states?.add(\"back-facing\");\r\n                        } else {\r\n                            this._internals.states?.delete(\"back-facing\");\r\n                        }\r\n                    } else {\r\n                        this._internals.states?.add(\"invalid\");\r\n                    }\r\n                }\r\n            });\r\n\r\n            this._updateAnnotation();\r\n            viewerElement.addEventListener(\"viewerrender\", updateAnnotation);\r\n            this._viewerAttachment = {\r\n                dispose() {\r\n                    viewerElement.removeEventListener(\"viewerrender\", updateAnnotation);\r\n                },\r\n            };\r\n        })();\r\n    }\r\n\r\n    /** @internal */\r\n    public override disconnectedCallback(): void {\r\n        super.disconnectedCallback();\r\n\r\n        this._connectingAbortController?.abort();\r\n        this._connectingAbortController = null;\r\n\r\n        this._viewerAttachment?.dispose();\r\n        this._viewerAttachment = null;\r\n\r\n        this._internals.states?.add(\"invalid\");\r\n\r\n        this._updateAnnotation = null;\r\n    }\r\n\r\n    /** @internal */\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    protected override render() {\r\n        return html` <slot><div aria-label=\"${this.hotSpot} annotation\" part=\"annotation\" class=\"annotation\">${this.hotSpot}</div></slot> `;\r\n    }\r\n\r\n    /** @internal */\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    protected override update(changedProperties: PropertyValues<this>): void {\r\n        super.update(changedProperties);\r\n        if (changedProperties.has(\"hotSpot\")) {\r\n            this._updateAnnotation?.();\r\n        }\r\n    }\r\n\r\n    private _sanitizeInnerHTML() {\r\n        if (this.innerHTML.trim().length === 0) {\r\n            this.innerHTML = \"\";\r\n        }\r\n    }\r\n}\r\n"],"names":["t","e","s","o","r","n","i","S","c","h","a","l","p","d","u","f","y","LitElement","html","ref","css","state","property","query","customElement"],"mappings":"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C,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,IAA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","x_google_ignoreList":[1,2,3,4,5,6,7,8,9,10,11,12,13]}