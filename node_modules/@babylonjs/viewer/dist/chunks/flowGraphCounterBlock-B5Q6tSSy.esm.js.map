{"version":3,"file":"flowGraphCounterBlock-B5Q6tSSy.esm.js","sources":["../../../../../dev/core/dist/FlowGraph/Blocks/Execution/ControlFlow/flowGraphCounterBlock.js"],"sourcesContent":["import { RichTypeNumber } from \"../../../flowGraphRichTypes\";\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal\";\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\n/**\n * A block that counts the number of times it has been called.\n * Afterwards it activates its out signal.\n */\nexport class FlowGraphCallCounterBlock extends FlowGraphExecutionBlockWithOutSignal {\n    constructor(config) {\n        super(config);\n        this.count = this.registerDataOutput(\"count\", RichTypeNumber);\n        this.reset = this._registerSignalInput(\"reset\");\n    }\n    _execute(context, callingSignal) {\n        if (callingSignal === this.reset) {\n            context._setExecutionVariable(this, \"count\", 0);\n            this.count.setValue(0, context);\n            return;\n        }\n        const countValue = context._getExecutionVariable(this, \"count\", 0) + 1;\n        context._setExecutionVariable(this, \"count\", countValue);\n        this.count.setValue(countValue, context);\n        this.out._activateSignal(context);\n    }\n    /**\n     * @returns class name of the block.\n     */\n    getClassName() {\n        return \"FlowGraphCallCounterBlock\" /* FlowGraphBlockNames.CallCounter */;\n    }\n}\nRegisterClass(\"FlowGraphCallCounterBlock\" /* FlowGraphBlockNames.CallCounter */, FlowGraphCallCounterBlock);\n//# sourceMappingURL=flowGraphCounterBlock.js.map"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACO,MAAM,yBAAyB,SAAS,oCAAoC,CAAC;AACpF,IAAI,WAAW,CAAC,MAAM,EAAE;AACxB,QAAQ,KAAK,CAAC,MAAM,CAAC;AACrB,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,cAAc,CAAC;AACrE,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC;AACvD;AACA,IAAI,QAAQ,CAAC,OAAO,EAAE,aAAa,EAAE;AACrC,QAAQ,IAAI,aAAa,KAAK,IAAI,CAAC,KAAK,EAAE;AAC1C,YAAY,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;AAC3D,YAAY,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,CAAC;AAC3C,YAAY;AACZ;AACA,QAAQ,MAAM,UAAU,GAAG,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,GAAG,CAAC;AAC9E,QAAQ,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,OAAO,EAAE,UAAU,CAAC;AAChE,QAAQ,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,OAAO,CAAC;AAChD,QAAQ,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC;AACzC;AACA;AACA;AACA;AACA,IAAI,YAAY,GAAG;AACnB,QAAQ,OAAO,2BAA2B;AAC1C;AACA;AACA,aAAa,CAAC,2BAA2B,wCAAwC,yBAAyB,CAAC;;;;"}