import{bM as e,bJ as i,bI as s}from"./index-VvGulz6u.esm.min.js";import{GLTFLoader as n}from"./glTFLoader-X6ZTOkAw.esm.min.js";import"./bone-DPw1oOFK.esm.min.js";import"./skeleton-BDCw4yVL.esm.min.js";import"./rawTexture-B-F8SA5B.esm.min.js";import"./assetContainer-Da0Xx6Do.esm.min.js";import"./objectModelMapping-CghNRpa4.esm.min.js";const r="KHR_materials_iridescence";class c{constructor(e){this.name=r,this.order=195,this._loader=e,this.enabled=this._loader.isExtensionUsed(r)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,i,s){return n.LoadExtensionAsync(e,i,this.name,(async(n,r)=>{const c=new Array;return c.push(this._loader.loadMaterialPropertiesAsync(e,i,s)),c.push(this._loadIridescencePropertiesAsync(n,r,s)),await Promise.all(c).then((()=>{}))}))}_loadIridescencePropertiesAsync(i,s,n){if(!(n instanceof e))throw new Error(`${i}: Material type not supported`);const r=new Array;return n.iridescence.isEnabled=!0,n.iridescence.intensity=s.iridescenceFactor??0,n.iridescence.indexOfRefraction=s.iridescenceIor??s.iridescenceIOR??1.3,n.iridescence.minimumThickness=s.iridescenceThicknessMinimum??100,n.iridescence.maximumThickness=s.iridescenceThicknessMaximum??400,s.iridescenceTexture&&r.push(this._loader.loadTextureInfoAsync(`${i}/iridescenceTexture`,s.iridescenceTexture,(e=>{e.name=`${n.name} (Iridescence)`,n.iridescence.texture=e}))),s.iridescenceThicknessTexture&&r.push(this._loader.loadTextureInfoAsync(`${i}/iridescenceThicknessTexture`,s.iridescenceThicknessTexture,(e=>{e.name=`${n.name} (Iridescence Thickness)`,n.iridescence.thicknessTexture=e}))),Promise.all(r).then((()=>{}))}}i(r),s(r,!0,(e=>new c(e)));export{c as KHR_materials_iridescence};
//# sourceMappingURL=KHR_materials_iridescence-DqRoXtIw.esm.min.js.map
